From ssinger at ca.afilias.info  Fri Feb  1 07:43:05 2013
From: ssinger at ca.afilias.info (Steve Singer)
Date: Fri, 01 Feb 2013 15:43:05 +0000
Subject: [Slony1-commit] Slony-I-commit Bug 285 fix move set race condition.
Message-ID: <E1U1Ild-0000bi-FE@gothos.postgresql.org>

Bug 285 fix move set race condition.

During a move set it is possible on subscriber node, that isn't the
old or new origin, for remoteWorkerThread_$oldorigin to start
processing a SYNC event before the ACCEPT_SET is processed
by the remoteWorkerThread_$neworigin.  If the ACCEPT_SET
transaction then commits before the update sl_setsync
query is executed by the remoteWorkertThread_$oldorigin
the update will update a row for the new origin when
it intends to update the old origin.  This messes up
sl_setsync.

This change will add a condition to the WHERE clause so
a remoteWorkerThread won't UPDATE rows for a different
origin

Branch
------
REL_2_1_STABLE

Details
-------
http://git.postgresql.org/gitweb?p=slony1-engine.git;a=commitdiff;h=16905a341cf6a90dc8fd24aa8e6650cfec6b5e61

Modified Files
--------------
RELEASE                  |    3 +++
src/slon/remote_worker.c |    5 ++---
2 files changed, 5 insertions(+), 3 deletions(-)


From ssinger at ca.afilias.info  Fri Feb  1 11:16:20 2013
From: ssinger at ca.afilias.info (Steve Singer)
Date: Fri, 01 Feb 2013 19:16:20 +0000
Subject: [Slony1-commit] Slony-I-commit fixing bug number
Message-ID: <E1U1M60-0007av-Fc@gothos.postgresql.org>

fixing bug number

Branch
------
master

Details
-------
http://git.postgresql.org/gitweb?p=slony1-engine.git;a=commitdiff;h=b886f9ccc0a377fae020045cc2cbfa698c778048

Modified Files
--------------
RELEASE |    2 +-
1 files changed, 1 insertions(+), 1 deletions(-)


From ssinger at ca.afilias.info  Fri Feb  1 11:16:20 2013
From: ssinger at ca.afilias.info (Steve Singer)
Date: Fri, 01 Feb 2013 19:16:20 +0000
Subject: [Slony1-commit] Slony-I-commit Bug 285 fix move set race condition.
Message-ID: <E1U1M60-0007ar-ES@gothos.postgresql.org>

Bug 285 fix move set race condition.

During a move set it is possible on subscriber node, that isn't the
old or new origin, for remoteWorkerThread_$oldorigin to start
processing a SYNC event before the ACCEPT_SET is processed
by the remoteWorkerThread_$neworigin.  If the ACCEPT_SET
transaction then commits before the update sl_setsync
query is executed by the remoteWorkertThread_$oldorigin
the update will update a row for the new origin when
it intends to update the old origin.  This messes up
sl_setsync.

This change will add a condition to the WHERE clause so
a remoteWorkerThread won't UPDATE rows for a different
origin

Branch
------
master

Details
-------
http://git.postgresql.org/gitweb?p=slony1-engine.git;a=commitdiff;h=3db179500c3144cd311edd5b512818f949506c57

Modified Files
--------------
RELEASE                  |    2 ++
src/slon/remote_worker.c |    5 ++---
2 files changed, 4 insertions(+), 3 deletions(-)


From ssinger at ca.afilias.info  Fri Feb  1 11:16:20 2013
From: ssinger at ca.afilias.info (Steve Singer)
Date: Fri, 01 Feb 2013 19:16:20 +0000
Subject: [Slony1-commit] Slony-I-commit updating to release 2.2.0 B3
Message-ID: <E1U1M60-0007au-FE@gothos.postgresql.org>

updating to release 2.2.0 B3

Branch
------
master

Details
-------
http://git.postgresql.org/gitweb?p=slony1-engine.git;a=commitdiff;h=b04239780ed9d620fed6f94481487c5ed0ffdc76

Modified Files
--------------
RELEASE                      |    4 ++--
config.h.in                  |    4 ++--
configure.ac                 |    2 +-
src/backend/slony1_funcs.sql |    2 +-
4 files changed, 6 insertions(+), 6 deletions(-)


