From ssinger at ca.afilias.info  Thu Oct  3 10:33:12 2013
From: ssinger at ca.afilias.info (Steve Singer)
Date: Thu, 03 Oct 2013 17:33:12 +0000
Subject: [Slony1-commit] Slony-I-commit Only include the libpq header
 directory OR the server he
Message-ID: <E1VRmm0-0003EF-UR@gothos.postgresql.org>

Only include the libpq header directory OR the server header directory but not both

This addresses bug 315 where a debian install had libpq-dev 9.3 installed
and postgresql-server-dev 8.4 installed.  The libpq headers are in /usr/include/postgresql
but the server headers are in /usr/lib/postgresql/8.4/server.

configure checks were failing because we were pulling in a mixutre of headers
from both versions.  The only slony component that needs the server
headers are the backend functions and they shouldn't need to use libpq headers.

This patch sets CPPFLAGS as approriate for one or the other but not both

Branch
------
master

Details
-------
http://git.postgresql.org/gitweb?p=slony1-engine.git;a=commitdiff;h=5e1ad5c7731c8daa5ebeac236c9f09f58a385245

Modified Files
--------------
Makefile.global.in            |    3 ++-
config/acx_libpq.m4           |   10 ++++++----
configure.ac                  |    3 ++-
src/backend/Makefile          |    2 +-
src/parsestatements/Makefile  |    2 ++
src/slon/Makefile             |    2 +-
src/slonik/Makefile           |    1 +
src/slony_logshipper/Makefile |    2 +-
8 files changed, 16 insertions(+), 9 deletions(-)


From ssinger at ca.afilias.info  Thu Oct  3 10:33:41 2013
From: ssinger at ca.afilias.info (Steve Singer)
Date: Thu, 03 Oct 2013 17:33:41 +0000
Subject: [Slony1-commit] Slony-I-commit Only include the libpq header
 directory OR the server he
Message-ID: <E1VRmmT-0003FC-0P@gothos.postgresql.org>

Only include the libpq header directory OR the server header directory but not both

This addresses bug 315 where a debian install had libpq-dev 9.3 installed
and postgresql-server-dev 8.4 installed.  The libpq headers are in /usr/include/postgresql
but the server headers are in /usr/lib/postgresql/8.4/server.

configure checks were failing because we were pulling in a mixutre of headers
from both versions.  The only slony component that needs the server
headers are the backend functions and they shouldn't need to use libpq headers.

This patch sets CPPFLAGS as approriate for one or the other but not both

Branch
------
REL_2_2_STABLE

Details
-------
http://git.postgresql.org/gitweb?p=slony1-engine.git;a=commitdiff;h=242af84178904e355962d26d33f05968df2f8e84

Modified Files
--------------
Makefile.global.in            |    3 ++-
RELEASE                       |    3 +++
config/acx_libpq.m4           |   10 ++++++----
configure.ac                  |    3 ++-
src/backend/Makefile          |    2 +-
src/parsestatements/Makefile  |    2 ++
src/slon/Makefile             |    2 +-
src/slonik/Makefile           |    1 +
src/slony_logshipper/Makefile |    2 +-
9 files changed, 19 insertions(+), 9 deletions(-)


From ssinger at ca.afilias.info  Thu Oct  3 10:33:50 2013
From: ssinger at ca.afilias.info (Steve Singer)
Date: Thu, 03 Oct 2013 17:33:50 +0000
Subject: [Slony1-commit] Slony-I-commit Only include the libpq header
 directory OR the server he
Message-ID: <E1VRmmc-0003FZ-9w@gothos.postgresql.org>

Only include the libpq header directory OR the server header directory but not both

This addresses bug 315 where a debian install had libpq-dev 9.3 installed
and postgresql-server-dev 8.4 installed.  The libpq headers are in /usr/include/postgresql
but the server headers are in /usr/lib/postgresql/8.4/server.

configure checks were failing because we were pulling in a mixutre of headers
from both versions.  The only slony component that needs the server
headers are the backend functions and they shouldn't need to use libpq headers.

This patch sets CPPFLAGS as approriate for one or the other but not both

Branch
------
REL_2_1_STABLE

Details
-------
http://git.postgresql.org/gitweb?p=slony1-engine.git;a=commitdiff;h=99d855d2c869bed338c6defaf34bac015d154669

Modified Files
--------------
Makefile.global.in            |    3 ++-
RELEASE                       |    3 +++
config/acx_libpq.m4           |   10 ++++++----
configure.ac                  |    3 ++-
src/backend/Makefile          |    2 +-
src/parsestatements/Makefile  |    2 ++
src/slon/Makefile             |    2 +-
src/slonik/Makefile           |    1 +
src/slony_logshipper/Makefile |    2 +-
9 files changed, 19 insertions(+), 9 deletions(-)


