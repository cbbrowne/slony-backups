From tmblue at gmail.com  Thu Aug 13 15:51:31 2015
From: tmblue at gmail.com (Tory M Blue)
Date: Thu, 13 Aug 2015 15:51:31 -0700
Subject: [Slony1-general] Slony multiple locations,
	questions concerning node ID's
Message-ID: <CAEaSS0YmauW0FBmYARGwAKrDjX+3pTMyxCuxqNLRjoDRMB7eeg@mail.gmail.com>

Been a bit, but I'm back with a question.

I'm looking at doing a migration from one site to another and eventually
have a hot warm site.

Right now I have a 5 box slony cluster at site A

Site A: Node 1 and 2 can switch/fail, nodes 3-5 are partial and can't
become master.

Node 1: MASTER
Node 2: SLAVE
Node 3: QUERYSLAVE1
Node 4: QUERYSLAVE2
Node 5: QUERYSLAVE3

I have a new 5 node cluster in Site B.

Site B:  This is our default turn up, so they have the same NODE ID as Site
A..

Node 1: MASTER
Node 2: SLAVE
Node 3: QUERYSLAVE1
Node 4: QUERYSLAVE2
Node 5: QUERYSLAVE3

I was really interested in Node 2 of Site A replicating to Node 1 of Site
B, and then just let the other boxen in site B take their information from
Node 1 of the same site.

 I think there is going to be some confusion with NODE ID's. I believe I
can tell Site A that the Master of Site B is actually node 10 <whatever>
and get it replicating and be able to drop NODE 10 if I needed from site A.
However if I end up switching to the Master in Site B,  It won't know how
to tell SITE A to kiss off,  as the NODE's in it's config will be
1,2,3,4,5, which are the same as Site A, so there would be no real way for
me to clean up and or remove SITE A devices, drop node using NODE ID would
be no beuno.

So I guess basically, do I have to have unique NODE ID's (think I do, but
if not??). It will just require some rework for every site I bring up,
 this means I have a few different configurations and or scripts to use
depending on what site the cluster is in.

Is this sort of clear, murky yet you have the general idea, or holy carp
Tory what are you asking?

Thanks
Tory
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-general/attachments/20150813/03237a07/attachment.htm 

