From anthony.vitale at sonymusic.com  Wed Jun  5 13:07:48 2013
From: anthony.vitale at sonymusic.com (Vitale, Anthony, Sony Music)
Date: Wed, 5 Jun 2013 16:07:48 -0400
Subject: [Slony1-general] Slony Versions and Postgres Versions and the
	compatibility.
Message-ID: <538A19CDA8C5CA4F87977C0FA47689F101743DC86405@NYCMNET7EV003.mnet.biz>

Hello Guys

I am new to the Slony World as well as Postgres World, And I have a question which I have tried to get info from the Web but without success. (At least maybe I did get the answer and do not like what I think I understand).

Here is my question.

At a point in Time,  I have a Master Database running Slony V 2.1.0 and a Slave Node running Slony V 2.1.0

I now need to update Slony to v2.1.2

Can I upgrade the Slave Node To V2.1.2 ahead of the Master being upgraded to V2.1.0 or vice versa

Or Does Slony require 100% version equality within the nodes at all times.
I Got this From the  Documentation Regarding Minor Slony-I version Upgrades.


*         Stop the slon<http://slony.info/documentation/2.1/slon.html> processes on all nodes. (e.g. - old version of slon<http://slony.info/documentation/2.1/slon.html>)



*         Install the new version of slon<http://slony.info/documentation/2.1/slon.html> software on all nodes.



*         Execute a slonik<http://slony.info/documentation/2.1/slonik.html> script containing the command update functions (id = [whatever]); for each node in the cluster.


Which Would Say the Answer to my question is YES.


But What Happens if Based on Geographic location of the Servers within the Clusters Not All the Nodes Can be upgraded at the Same Time,


Is there any Real Time Experience out there with anyone who  Can Tell me how they may have upgraded multiple servers in which on some nodes based on the availability of the techs overseeing the servers there was delays regarding the Install the new Software Version in the steps above.

Is there a Hard Rule that the Slony versions must be 100% exact at all times, or can a Target Node be at a newer subversion ahead of the Master and still run.

And Since It appears that the Slony C libraries Are put out there as part of the Postgres libraries it would appear that I would not be able to have the upgraded lib .so's out there on the Target server just waiting to be used, the Make needs to happen after the Stop.


Thanks



-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-general/attachments/20130605/e19b4c19/attachment.htm 

From ragavendra.dba at gmail.com  Thu Jun  6 01:16:56 2013
From: ragavendra.dba at gmail.com (Raghav)
Date: Thu, 6 Jun 2013 13:46:56 +0530
Subject: [Slony1-general] Slony Versions and Postgres Versions and the
	compatibility.
In-Reply-To: <538A19CDA8C5CA4F87977C0FA47689F101743DC86405@NYCMNET7EV003.mnet.biz>
References: <538A19CDA8C5CA4F87977C0FA47689F101743DC86405@NYCMNET7EV003.mnet.biz>
Message-ID: <CANwAqWheEi_FgBJYPQ=1K+g6Ntagy76bQ6CBPwkJGBbw13aNyw@mail.gmail.com>

>
>
> **
>
> Is there a Hard Rule that the Slony versions must be 100% exact at all
> times, or can a Target Node be at a newer subversion ahead of the Master
> and still run.
>

AFAIK, Slony-I need exact version on both the node's.
Because upgrading a node to newer version will do changes to slony_func.so
file where it should match the version with the other replicating nodes
else it will break. Below link has a comment after the upgrade steps as " If
there is any mismatch between component versions, the
slon<http://main.slony.info/documentation/2.1/slon.html> will
refuse to start up, which provides protection against corruption."

http://main.slony.info/documentation/2.1/slonyupgrade.html

For your other questions, hopefully you will see some answer's here.

-- 
Regards
Raghav
Blog: htt://raghavt.blogspot.com/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-general/attachments/20130606/82bee8a6/attachment.htm 

From ssinger at ca.afilias.info  Fri Jun  7 07:51:21 2013
From: ssinger at ca.afilias.info (Steve Singer)
Date: Fri, 07 Jun 2013 10:51:21 -0400
Subject: [Slony1-general] Slony 2.2.0 beta 4 released
Message-ID: <51B1F369.9080801@ca.afilias.info>

The Slony team is pleased to announce the release of the fourth beta for 
Slony 2.2.0.

Slony 2.2.0 will be the next major release of the Slony-I replication 
system for PostgreSQL.

Key features of the 2.2.0 release include:

* The storage and transport and application of the slony log 
(sl_log_1/sl_log_2) has changed providing performance improvements. Data 
is now stored in a different format and the postgresql COPY protocol and 
triggers are used to replicate and apply changes to replicas.

* DDL handling with the EXECUTE SCRIPT command has changed.  The DDL is 
no longer stored as a special event in sl_event but is instead stored in 
sl_log_script and is processed as part of a SYNC event inline with data 
changes. DDL can also be specified inline

* FAILOVER has been reworked to be more reliable but not all nodes can 
be used as failover targets.

* A RESUBSCRIBE NODE command was added because the provider of a 
subscribed set can no longer be changed with the SUBSCRIBE SET command 
in some cases.  All sets from a particular origin must send data to 
receivers through the same path/forwarder nodes. This must remain  true 
during cluster reshaping.

This beta 4 adds support for PG 9.3 so you can beta test both slony 
2.2.0 and postgresql 9.3 betas at the same time.

See the release notes for details and changes from the last beta

The release notes are available at

http://git.postgresql.org/gitweb/?p=slony1-engine.git;a=blob_plain;f=RELEASE;h=be03be66d8f39ee148b50dadf71ddbe20a1e5ad8;hb=e3e785c93d14b009abc8424fa7e53e8b75c0f098

Slony-I 2.2.0 beta 4 can be downloaded from:

http://www.slony.info/downloads/2.2/source/slony1-2.2.0.b4.tar.bz2
http://www.slony.info/downloads/2.2/source/slony1-2.2.0.b4-docs.tar.bz2

This release is a beta release. Users are encouraged to try the release 
out and report bugs.

I would like people who test this beta to report both successes and bugs 
to me, either on the slony mailing lists or through private email.  Test 
this beta, report your results to me and earn Slony karma points.

Thanks


Steve


From JanWieck at Yahoo.com  Fri Jun  7 13:18:27 2013
From: JanWieck at Yahoo.com (Jan Wieck)
Date: Fri, 07 Jun 2013 16:18:27 -0400
Subject: [Slony1-general] Slony Versions and Postgres Versions and the
 compatibility.
In-Reply-To: <CANwAqWheEi_FgBJYPQ=1K+g6Ntagy76bQ6CBPwkJGBbw13aNyw@mail.gmail.com>
References: <538A19CDA8C5CA4F87977C0FA47689F101743DC86405@NYCMNET7EV003.mnet.biz>
	<CANwAqWheEi_FgBJYPQ=1K+g6Ntagy76bQ6CBPwkJGBbw13aNyw@mail.gmail.com>
Message-ID: <51B24013.6060704@Yahoo.com>

On 06/06/13 04:16, Raghav wrote:
> 
>     __
> 
>     Is there a Hard Rule that the Slony versions must be 100% exact at
>     all times, or can a Target Node be at a newer subversion ahead of
>     the Master and still run.
> 
>  
> AFAIK, Slony-I need exact version on both the node's.
> Because upgrading a node to newer version will do changes to
> slony_func.so file where it should match the version with the other
> replicating nodes else it will break. Below link has a comment after the
> upgrade steps as " If there is any mismatch between component versions,
> the slon <http://main.slony.info/documentation/2.1/slon.html> will
> refuse to start up, which provides protection against corruption."

That is correct. Slony requires the same Slony version on all nodes, but
supports running on top of different PostgreSQL version.


Jan


> 
> http://main.slony.info/documentation/2.1/slonyupgrade.html
> 
> For your other questions, hopefully you will see some answer's here.
> 
> -- 
> Regards
> Raghav
> Blog: htt://raghavt.blogspot.com/ <http://raghavt.blogspot.com/>
> 
> 
> _______________________________________________
> Slony1-general mailing list
> Slony1-general at lists.slony.info
> http://lists.slony.info/mailman/listinfo/slony1-general
> 


-- 
Anyone who trades liberty for security deserves neither
liberty nor security. -- Benjamin Franklin

