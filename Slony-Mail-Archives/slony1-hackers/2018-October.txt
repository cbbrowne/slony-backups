From steve at ssinger.info  Wed Oct 10 19:25:49 2018
From: steve at ssinger.info (Steve Singer)
Date: Wed, 10 Oct 2018 22:25:49 -0400 (EDT)
Subject: [Slony1-hackers] Slony-2.27 Compilation issue on windows-x64
Message-ID: <alpine.DEB.2.11.1810102222200.8719@opti.atlantida>


ZilanBasha,

The attached patch seems to get slony 2.2.7 compiling against PG11 beta on 
Windows.

Please confirm if this works.

Steve
-------------- next part --------------
diff --git a/src/slonik/slonik.c b/src/slonik/slonik.c
index 75fd39ba..05cd912f 100644
--- a/src/slonik/slonik.c
+++ b/src/slonik/slonik.c
@@ -28,6 +28,7 @@
 #include <windows.h>
 #include <malloc.h>
 #define sleep(x) Sleep(x*1000)
+#include <port/win32.h>
 #endif
 
 

From steve at ssinger.info  Fri Oct 12 04:16:47 2018
From: steve at ssinger.info (Steve Singer)
Date: Fri, 12 Oct 2018 07:16:47 -0400 (EDT)
Subject: [Slony1-hackers] Slony-2.27 Compilation issue on windows-x64
In-Reply-To: <CAHEeLTcNxXtm0wpyL7iWj1NEfdyJBRKkwF2O0PrJBkvwPQc=ew@mail.gmail.com>
References: <alpine.DEB.2.11.1810102222200.8719@opti.atlantida>
	<CAHEeLTcNxXtm0wpyL7iWj1NEfdyJBRKkwF2O0PrJBkvwPQc=ew@mail.gmail.com>
Message-ID: <alpine.DEB.2.11.1810120715350.8719@opti.atlantida>

On Fri, 12 Oct 2018, ZilanBasha Shaik wrote:
What is the environment variable PGVER set to? 
It should be set to 11

Steve


> 
> Hi Steve,?
> On Thu, Oct 11, 2018 at 8:01 AM Steve Singer <steve at ssinger.info> wrote:
>
>       ZilanBasha,
>
>       The attached patch seems to get slony 2.2.7 compiling against PG11 beta on
>       Windows.
>
>       Please confirm if this works.
> 
> 
> I have applied your patch in slony 2.2.7 sources. During the compilation I come across the below error. Here
> PGV11 version is RC1.
> 
> Can you please help us to resolve this issue.
> 
> D:\pginstaller.pune>CALL "C:\\Program Files (x86)\\Microsoft Visual
> Studio\\2017\Professional\VC\Auxiliary\Build\vcvarsall.bat" amd64?
> 
> **********************************************************************
> 
> ** Visual Studio 2017 Developer Command Prompt v15.7.1
> 
> ** Copyright (c) 2017 Microsoft Corporation
> 
> **********************************************************************
> 
> [vcvarsall.bat] Environment initialized for: 'x64'
> 
> cl.exe/c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H /I..\..\ /D HAVE_PGPORT
> /ID:\\pginstaller.pune\output\include /ID:\\pginstaller.pune\output\include\server
> /ID:\\pginstaller.pune\output\include\server\port\win32 /MD? slonik.c
> 
> 
> Microsoft (R) Program Maintenance Utility Version 14.14.26428.1
> 
> Copyright (C) Microsoft Corporation.? All rights reserved.
> 
> 
> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
> 
> Copyright (C) Microsoft Corporation.? All rights reserved.
> 
> 
> slonik.c
> 
> d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87): warning C4005: 'va_copy': macro redefinition
> 
> C:\Program Files (x86)\Microsoft Visual
> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20): note: see previous definition of
> 'va_copy'
> 
> d:\pginstaller.pune\slony.windows-x64\src\slonik\slonik.c(75) : warning C4172: returning address of local
> variable or temporary: result
> 
> cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H /I..\..\ /D HAVE_PGPORT
> /ID:\\pginstaller.pune\output\include /ID:\\pginstaller.pune\output\include\server
> /ID:\\pginstaller.pune\output\include\server\port\win32 /MD dbutil.c
> 
> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
> 
> Copyright (C) Microsoft Corporation.? All rights reserved.
> 
> 
> dbutil.c
> 
> d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87): warning C4005: 'va_copy': macro redefinition
> 
> C:\Program Files (x86)\Microsoft Visual
> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20): note: see previous definition of
> 'va_copy'
> 
> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
> 
> Copyright (C) Microsoft Corporation.? All rights reserved.
> 
> 
> cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H /I..\..\ /D HAVE_PGPORT
> /ID:\\pginstaller.pune\output\include /ID:\\pginstaller.pune\output\include\server
> /ID:\\pginstaller.pune\output\include\server\port\win32 /MD parser.c
> 
> parser.c
> 
> C:\Program Files (x86)\Microsoft Visual
> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stddef.h(45): warning C4005: 'offsetof': macro
> redefinition
> 
> d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(20): note: see previous definition of 'offsetof'
> 
> C:\Program Files (x86)\Microsoft Visual
> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(603): warning C4142: '_strtoui64':
> benign redefinition of type
> 
> C:\Program Files (x86)\Microsoft Visual
> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(539): note: see declaration of
> '_strtoui64'
> 
> cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H /I..\..\ /D HAVE_PGPORT
> /ID:\\pginstaller.pune\output\include /ID:\\pginstaller.pune\output\include\server
> /ID:\\pginstaller.pune\output\include\server\port\win32 /MD /Fo..\parsestatements\scanner.obj
> ..\parsestatements/scanner.c
> 
> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
> 
> Copyright (C) Microsoft Corporation.? All rights reserved.
> 
> 
> scanner.c
> 
> cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H /I..\..\ /D HAVE_PGPORT
> /ID:\\pginstaller.pune\output\include /ID:\\pginstaller.pune\output\include\server
> /ID:\\pginstaller.pune\output\include\server\port\win32 /MD scan.c
> 
> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
> 
> Copyright (C) Microsoft Corporation.? All rights reserved.
> 
> 
> scan.c
> 
> link.exe /libpath:D:\\pginstaller.pune\output\lib libpq.lib libpgport.lib libpgcommon.lib ws2_32.lib
> kernel32.lib user32.lib advapi32.lib /libpath:C:\\pgBuild64\lib intl.lib slonik.obj? dbutil.obj? parser.obj?
> ..\parsestatements\scanner.obj? scan.obj
> 
> Microsoft (R) Incremental Linker Version 14.14.26428.1
> 
> Copyright (C) Microsoft Corporation.? All rights reserved.
> 
> 
> 
> Microsoft (R) Program Maintenance Utility Version 14.14.26428.1
> 
> Copyright (C) Microsoft Corporation.? All rights reserved.
> 
> 
> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
> 
> Copyright (C) Microsoft Corporation.? All rights reserved.
> 
> 
> cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /I..\misc /I..\..\ /ID:\\pginstaller.pune\output\include
> /ID:\\pginstaller.pune\output\include\server? /ID:\\pginstaller.pune\output\include\server\port\win32_msvc
> /ID:\\pginstaller.pune\output\include\server\port\win32 /IC:\\pgBuild64\include /D HAVE_LL_CONSTANTS=1 /D
> HAVE_GETACTIVESNAPSHOT? /LD /Gd /Tc? slony1_funcs.c
> 
> slony1_funcs.c
> 
> slony1_funcs.c(2904): error C2232: '->attisdropped': left operand has 'struct' type, use '.'
> 
> slony1_funcs.c(2904): warning C4033: 'isDropped' must return a value
> 
> slony1_funcs.c(2919): error C2232: '->atttypmod': left operand has 'struct' type, use '.'
> 
> slony1_funcs.c(2919): warning C4033: 'typeMod' must return a value
> 
> NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft Visual
> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\bin\HostX64\x64\cl.exe"' : return code '0x2'
> 
> Stop.
> 
> 
> Microsoft (R) Program Maintenance Utility Version 14.14.26428.1??
>
>       Steve
> 
> 
> 
> --
> Thank You,Shaik ZIlanBasha
> 
>

From steve at ssinger.info  Mon Oct 15 17:08:29 2018
From: steve at ssinger.info (Steve Singer)
Date: Mon, 15 Oct 2018 20:08:29 -0400 (EDT)
Subject: [Slony1-hackers] Slony-2.27 Compilation issue on windows-x64
In-Reply-To: <CAHEeLTem4mnH=GbHaGWK9=0ugEqPpH1g7qJ=v=pVB2b1kXHv1w@mail.gmail.com>
References: <alpine.DEB.2.11.1810102222200.8719@opti.atlantida>
	<CAHEeLTcNxXtm0wpyL7iWj1NEfdyJBRKkwF2O0PrJBkvwPQc=ew@mail.gmail.com>
	<alpine.DEB.2.11.1810120715350.8719@opti.atlantida>
	<CAHEeLTem4mnH=GbHaGWK9=0ugEqPpH1g7qJ=v=pVB2b1kXHv1w@mail.gmail.com>
Message-ID: <alpine.DEB.2.11.1810152007130.8719@opti.atlantida>

On Mon, 15 Oct 2018, ZilanBasha Shaik wrote:

> 
> Hi Steve,
> On Fri, Oct 12, 2018 at 4:52 PM Steve Singer <steve at ssinger.info> wrote:
>       On Fri, 12 Oct 2018, ZilanBasha Shaik wrote:
>       What is the environment variable PGVER set to?
>       It should be set to 11
> 
> Yes, We are using the same value as you mentioned above.? Hers is the?PG_MAJOR_VERSION=11?


PG_MAJOR_VERSION=11

or

PGVER=11



>       Steve
> 
>
>       >
>       > Hi Steve,?
>       > On Thu, Oct 11, 2018 at 8:01 AM Steve Singer <steve at ssinger.info> wrote:
>       >
>       >? ? ? ?ZilanBasha,
>       >
>       >? ? ? ?The attached patch seems to get slony 2.2.7 compiling against PG11 beta on
>       >? ? ? ?Windows.
>       >
>       >? ? ? ?Please confirm if this works.
>       >
>       >
>       > I have applied your patch in slony 2.2.7 sources. During the compilation I come across the
>       below error. Here
>       > PGV11 version is RC1.
>       >
>       > Can you please help us to resolve this issue.
>       >
>       > D:\pginstaller.pune>CALL "C:\\Program Files (x86)\\Microsoft Visual
>       > Studio\\2017\Professional\VC\Auxiliary\Build\vcvarsall.bat" amd64?
>       >
>       > **********************************************************************
>       >
>       > ** Visual Studio 2017 Developer Command Prompt v15.7.1
>       >
>       > ** Copyright (c) 2017 Microsoft Corporation
>       >
>       > **********************************************************************
>       >
>       > [vcvarsall.bat] Environment initialized for: 'x64'
>       >
>       > cl.exe/c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H /I..\..\ /D HAVE_PGPORT
>       > /ID:\\pginstaller.pune\output\include /ID:\\pginstaller.pune\output\include\server
>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD? slonik.c
>       >
>       >
>       > Microsoft (R) Program Maintenance Utility Version 14.14.26428.1
>       >
>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>       >
>       >
>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
>       >
>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>       >
>       >
>       > slonik.c
>       >
>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87): warning C4005: 'va_copy': macro
>       redefinition
>       >
>       > C:\Program Files (x86)\Microsoft Visual
>       > Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20): note: see previous
>       definition of
>       > 'va_copy'
>       >
>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\slonik.c(75) : warning C4172: returning
>       address of local
>       > variable or temporary: result
>       >
>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H /I..\..\ /D HAVE_PGPORT
>       > /ID:\\pginstaller.pune\output\include /ID:\\pginstaller.pune\output\include\server
>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD dbutil.c
>       >
>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
>       >
>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>       >
>       >
>       > dbutil.c
>       >
>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87): warning C4005: 'va_copy': macro
>       redefinition
>       >
>       > C:\Program Files (x86)\Microsoft Visual
>       > Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20): note: see previous
>       definition of
>       > 'va_copy'
>       >
>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
>       >
>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>       >
>       >
>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H /I..\..\ /D HAVE_PGPORT
>       > /ID:\\pginstaller.pune\output\include /ID:\\pginstaller.pune\output\include\server
>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD parser.c
>       >
>       > parser.c
>       >
>       > C:\Program Files (x86)\Microsoft Visual
>       > Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stddef.h(45): warning C4005:
>       'offsetof': macro
>       > redefinition
>       >
>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(20): note: see previous definition of
>       'offsetof'
>       >
>       > C:\Program Files (x86)\Microsoft Visual
>       > Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(603): warning C4142:
>       '_strtoui64':
>       > benign redefinition of type
>       >
>       > C:\Program Files (x86)\Microsoft Visual
>       > Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(539): note: see
>       declaration of
>       > '_strtoui64'
>       >
>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H /I..\..\ /D HAVE_PGPORT
>       > /ID:\\pginstaller.pune\output\include /ID:\\pginstaller.pune\output\include\server
>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD /Fo..\parsestatements\scanner.obj
>       > ..\parsestatements/scanner.c
>       >
>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
>       >
>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>       >
>       >
>       > scanner.c
>       >
>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H /I..\..\ /D HAVE_PGPORT
>       > /ID:\\pginstaller.pune\output\include /ID:\\pginstaller.pune\output\include\server
>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD scan.c
>       >
>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
>       >
>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>       >
>       >
>       > scan.c
>       >
>       > link.exe /libpath:D:\\pginstaller.pune\output\lib libpq.lib libpgport.lib libpgcommon.lib
>       ws2_32.lib
>       > kernel32.lib user32.lib advapi32.lib /libpath:C:\\pgBuild64\lib intl.lib slonik.obj?
>       dbutil.obj? parser.obj?
>       > ..\parsestatements\scanner.obj? scan.obj
>       >
>       > Microsoft (R) Incremental Linker Version 14.14.26428.1
>       >
>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>       >
>       >
>       >
>       > Microsoft (R) Program Maintenance Utility Version 14.14.26428.1
>       >
>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>       >
>       >
>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for x64
>       >
>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>       >
>       >
>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /I..\misc /I..\..\
>       /ID:\\pginstaller.pune\output\include
>       > /ID:\\pginstaller.pune\output\include\server?
>       /ID:\\pginstaller.pune\output\include\server\port\win32_msvc
>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /IC:\\pgBuild64\include /D
>       HAVE_LL_CONSTANTS=1 /D
>       > HAVE_GETACTIVESNAPSHOT? /LD /Gd /Tc? slony1_funcs.c
>       >
>       > slony1_funcs.c
>       >
>       > slony1_funcs.c(2904): error C2232: '->attisdropped': left operand has 'struct' type, use '.'
>       >
>       > slony1_funcs.c(2904): warning C4033: 'isDropped' must return a value
>       >
>       > slony1_funcs.c(2919): error C2232: '->atttypmod': left operand has 'struct' type, use '.'
>       >
>       > slony1_funcs.c(2919): warning C4033: 'typeMod' must return a value
>       >
>       > NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft Visual
>       > Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\bin\HostX64\x64\cl.exe"' : return code
>       '0x2'
>       >
>       > Stop.
>       >
>       >
>       > Microsoft (R) Program Maintenance Utility Version 14.14.26428.1??
>       >
>       >? ? ? ?Steve
>       >
>       >
>       >
>       > --
>       > Thank You,Shaik ZIlanBasha
>       >
>       >
> 
> 
> 
> --
> Thank You,Shaik ZIlanBasha
> 
>

From steve at ssinger.info  Mon Oct 15 17:20:22 2018
From: steve at ssinger.info (Steve Singer)
Date: Mon, 15 Oct 2018 20:20:22 -0400 (EDT)
Subject: [Slony1-hackers] Slony-2.27 Compilation issue on windows-x64
In-Reply-To: <alpine.DEB.2.11.1810152007130.8719@opti.atlantida>
References: <alpine.DEB.2.11.1810102222200.8719@opti.atlantida>
	<CAHEeLTcNxXtm0wpyL7iWj1NEfdyJBRKkwF2O0PrJBkvwPQc=ew@mail.gmail.com>
	<alpine.DEB.2.11.1810120715350.8719@opti.atlantida>
	<CAHEeLTem4mnH=GbHaGWK9=0ugEqPpH1g7qJ=v=pVB2b1kXHv1w@mail.gmail.com>
	<alpine.DEB.2.11.1810152007130.8719@opti.atlantida>
Message-ID: <alpine.DEB.2.11.1810152019190.8719@opti.atlantida>

On Mon, 15 Oct 2018, Steve Singer wrote:

And if you modify win32.mak to explicitly set PG_VERSION_MAJOR as in the 
attached patch does it make the problem go away?


> On Mon, 15 Oct 2018, ZilanBasha Shaik wrote:
>
>> 
>> Hi Steve,
>> On Fri, Oct 12, 2018 at 4:52 PM Steve Singer <steve at ssinger.info> wrote:
>>       On Fri, 12 Oct 2018, ZilanBasha Shaik wrote:
>>       What is the environment variable PGVER set to?
>>       It should be set to 11
>> 
>> Yes, We are using the same value as you mentioned above.? Hers is 
>> the?PG_MAJOR_VERSION=11?
>
>
> PG_MAJOR_VERSION=11
>
> or
>
> PGVER=11
>
>
>
>>       Steve
>> 
>>
>>       >
>>       > Hi Steve,?
>>       > On Thu, Oct 11, 2018 at 8:01 AM Steve Singer <steve at ssinger.info> 
>> wrote:
>>       >
>>       >? ? ? ?ZilanBasha,
>>       >
>>       >? ? ? ?The attached patch seems to get slony 2.2.7 compiling against 
>> PG11 beta on
>>       >? ? ? ?Windows.
>>       >
>>       >? ? ? ?Please confirm if this works.
>>       >
>>       >
>>       > I have applied your patch in slony 2.2.7 sources. During the 
>> compilation I come across the
>>       below error. Here
>>       > PGV11 version is RC1.
>>       >
>>       > Can you please help us to resolve this issue.
>>       >
>>       > D:\pginstaller.pune>CALL "C:\\Program Files (x86)\\Microsoft Visual
>>       > Studio\\2017\Professional\VC\Auxiliary\Build\vcvarsall.bat" amd64?
>>       >
>>       > 
>> **********************************************************************
>>       >
>>       > ** Visual Studio 2017 Developer Command Prompt v15.7.1
>>       >
>>       > ** Copyright (c) 2017 Microsoft Corporation
>>       >
>>       > 
>> **********************************************************************
>>       >
>>       > [vcvarsall.bat] Environment initialized for: 'x64'
>>       >
>>       > cl.exe/c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H 
>> /I..\..\ /D HAVE_PGPORT
>>       > /ID:\\pginstaller.pune\output\include 
>> /ID:\\pginstaller.pune\output\include\server
>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD? 
>> slonik.c
>>       >
>>       >
>>       > Microsoft (R) Program Maintenance Utility Version 14.14.26428.1
>>       >
>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>       >
>>       >
>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>> x64
>>       >
>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>       >
>>       >
>>       > slonik.c
>>       >
>>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87): 
>> warning C4005: 'va_copy': macro
>>       redefinition
>>       >
>>       > C:\Program Files (x86)\Microsoft Visual
>>       > 
>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20): 
>> note: see previous
>>       definition of
>>       > 'va_copy'
>>       >
>>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\slonik.c(75) : 
>> warning C4172: returning
>>       address of local
>>       > variable or temporary: result
>>       >
>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H 
>> /I..\..\ /D HAVE_PGPORT
>>       > /ID:\\pginstaller.pune\output\include 
>> /ID:\\pginstaller.pune\output\include\server
>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD 
>> dbutil.c
>>       >
>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>> x64
>>       >
>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>       >
>>       >
>>       > dbutil.c
>>       >
>>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87): 
>> warning C4005: 'va_copy': macro
>>       redefinition
>>       >
>>       > C:\Program Files (x86)\Microsoft Visual
>>       > 
>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20): 
>> note: see previous
>>       definition of
>>       > 'va_copy'
>>       >
>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>> x64
>>       >
>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>       >
>>       >
>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H 
>> /I..\..\ /D HAVE_PGPORT
>>       > /ID:\\pginstaller.pune\output\include 
>> /ID:\\pginstaller.pune\output\include\server
>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD 
>> parser.c
>>       >
>>       > parser.c
>>       >
>>       > C:\Program Files (x86)\Microsoft Visual
>>       > 
>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stddef.h(45): 
>> warning C4005:
>>       'offsetof': macro
>>       > redefinition
>>       >
>>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(20): note: 
>> see previous definition of
>>       'offsetof'
>>       >
>>       > C:\Program Files (x86)\Microsoft Visual
>>       > 
>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(603): 
>> warning C4142:
>>       '_strtoui64':
>>       > benign redefinition of type
>>       >
>>       > C:\Program Files (x86)\Microsoft Visual
>>       > 
>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(539): 
>> note: see
>>       declaration of
>>       > '_strtoui64'
>>       >
>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H 
>> /I..\..\ /D HAVE_PGPORT
>>       > /ID:\\pginstaller.pune\output\include 
>> /ID:\\pginstaller.pune\output\include\server
>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD 
>> /Fo..\parsestatements\scanner.obj
>>       > ..\parsestatements/scanner.c
>>       >
>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>> x64
>>       >
>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>       >
>>       >
>>       > scanner.c
>>       >
>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H 
>> /I..\..\ /D HAVE_PGPORT
>>       > /ID:\\pginstaller.pune\output\include 
>> /ID:\\pginstaller.pune\output\include\server
>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD scan.c
>>       >
>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>> x64
>>       >
>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>       >
>>       >
>>       > scan.c
>>       >
>>       > link.exe /libpath:D:\\pginstaller.pune\output\lib libpq.lib 
>> libpgport.lib libpgcommon.lib
>>       ws2_32.lib
>>       > kernel32.lib user32.lib advapi32.lib /libpath:C:\\pgBuild64\lib 
>> intl.lib slonik.obj?
>>       dbutil.obj? parser.obj?
>>       > ..\parsestatements\scanner.obj? scan.obj
>>       >
>>       > Microsoft (R) Incremental Linker Version 14.14.26428.1
>>       >
>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>       >
>>       >
>>       >
>>       > Microsoft (R) Program Maintenance Utility Version 14.14.26428.1
>>       >
>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>       >
>>       >
>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>> x64
>>       >
>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>       >
>>       >
>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /I..\misc /I..\..\
>>       /ID:\\pginstaller.pune\output\include
>>       > /ID:\\pginstaller.pune\output\include\server?
>>       /ID:\\pginstaller.pune\output\include\server\port\win32_msvc
>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 
>> /IC:\\pgBuild64\include /D
>>       HAVE_LL_CONSTANTS=1 /D
>>       > HAVE_GETACTIVESNAPSHOT? /LD /Gd /Tc? slony1_funcs.c
>>       >
>>       > slony1_funcs.c
>>       >
>>       > slony1_funcs.c(2904): error C2232: '->attisdropped': left operand 
>> has 'struct' type, use '.'
>>       >
>>       > slony1_funcs.c(2904): warning C4033: 'isDropped' must return a 
>> value
>>       >
>>       > slony1_funcs.c(2919): error C2232: '->atttypmod': left operand has 
>> 'struct' type, use '.'
>>       >
>>       > slony1_funcs.c(2919): warning C4033: 'typeMod' must return a value
>>       >
>>       > NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft 
>> Visual
>>       > 
>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\bin\HostX64\x64\cl.exe"' 
>> : return code
>>       '0x2'
>>       >
>>       > Stop.
>>       >
>>       >
>>       > Microsoft (R) Program Maintenance Utility Version 14.14.26428.1??
>>       >
>>       >? ? ? ?Steve
>>       >
>>       >
>>       >
>>       > --
>>       > Thank You,Shaik ZIlanBasha
>>       >
>>       >
>> 
>> 
>> 
>> --
>> Thank You,Shaik ZIlanBasha
>> 
>> 
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: win32.mak.diff
Type: text/x-diff
Size: 910 bytes
Desc: 
Url : http://lists.slony.info/pipermail/slony1-hackers/attachments/20181015/ebb2ad20/attachment.diff 

From steve at ssinger.info  Mon Oct 15 17:42:46 2018
From: steve at ssinger.info (Steve Singer)
Date: Mon, 15 Oct 2018 20:42:46 -0400 (EDT)
Subject: [Slony1-hackers] Slony-2.27 Compilation issue on windows-x64
In-Reply-To: <alpine.DEB.2.11.1810152019190.8719@opti.atlantida>
References: <alpine.DEB.2.11.1810102222200.8719@opti.atlantida>
	<CAHEeLTcNxXtm0wpyL7iWj1NEfdyJBRKkwF2O0PrJBkvwPQc=ew@mail.gmail.com>
	<alpine.DEB.2.11.1810120715350.8719@opti.atlantida>
	<CAHEeLTem4mnH=GbHaGWK9=0ugEqPpH1g7qJ=v=pVB2b1kXHv1w@mail.gmail.com>
	<alpine.DEB.2.11.1810152007130.8719@opti.atlantida>
	<alpine.DEB.2.11.1810152019190.8719@opti.atlantida>
Message-ID: <alpine.DEB.2.11.1810152042130.8719@opti.atlantida>

On Mon, 15 Oct 2018, Steve Singer wrote:

> On Mon, 15 Oct 2018, Steve Singer wrote:
>
> And if you modify win32.mak to explicitly set PG_VERSION_MAJOR as in the 
> attached patch does it make the problem go away?

Actually try this version, it will work with the other versions of PG as 
well.  It will require the
setenv PGVER=11




>
>
>> On Mon, 15 Oct 2018, ZilanBasha Shaik wrote:
>> 
>>> 
>>> Hi Steve,
>>> On Fri, Oct 12, 2018 at 4:52 PM Steve Singer <steve at ssinger.info> wrote:
>>>       On Fri, 12 Oct 2018, ZilanBasha Shaik wrote:
>>>       What is the environment variable PGVER set to?
>>>       It should be set to 11
>>> 
>>> Yes, We are using the same value as you mentioned above.? Hers is 
>>> the?PG_MAJOR_VERSION=11?
>> 
>> 
>> PG_MAJOR_VERSION=11
>> 
>> or
>> 
>> PGVER=11
>> 
>> 
>>
>>>       Steve
>>> 
>>>
>>>       >
>>>       > Hi Steve,?
>>>       > On Thu, Oct 11, 2018 at 8:01 AM Steve Singer <steve at ssinger.info> 
>>> wrote:
>>>       >
>>>       >? ? ? ?ZilanBasha,
>>>       >
>>>       >? ? ? ?The attached patch seems to get slony 2.2.7 compiling 
>>> against PG11 beta on
>>>       >? ? ? ?Windows.
>>>       >
>>>       >? ? ? ?Please confirm if this works.
>>>       >
>>>       >
>>>       > I have applied your patch in slony 2.2.7 sources. During the 
>>> compilation I come across the
>>>       below error. Here
>>>       > PGV11 version is RC1.
>>>       >
>>>       > Can you please help us to resolve this issue.
>>>       >
>>>       > D:\pginstaller.pune>CALL "C:\\Program Files (x86)\\Microsoft 
>>> Visual
>>>       > Studio\\2017\Professional\VC\Auxiliary\Build\vcvarsall.bat" amd64?
>>>       >
>>>       > 
>>> **********************************************************************
>>>       >
>>>       > ** Visual Studio 2017 Developer Command Prompt v15.7.1
>>>       >
>>>       > ** Copyright (c) 2017 Microsoft Corporation
>>>       >
>>>       > 
>>> **********************************************************************
>>>       >
>>>       > [vcvarsall.bat] Environment initialized for: 'x64'
>>>       >
>>>       > cl.exe/c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H 
>>> /I..\..\ /D HAVE_PGPORT
>>>       > /ID:\\pginstaller.pune\output\include 
>>> /ID:\\pginstaller.pune\output\include\server
>>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD? 
>>> slonik.c
>>>       >
>>>       >
>>>       > Microsoft (R) Program Maintenance Utility Version 14.14.26428.1
>>>       >
>>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>>       >
>>>       >
>>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>>> x64
>>>       >
>>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>>       >
>>>       >
>>>       > slonik.c
>>>       >
>>>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87): 
>>> warning C4005: 'va_copy': macro
>>>       redefinition
>>>       >
>>>       > C:\Program Files (x86)\Microsoft Visual
>>>       > 
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20): 
>>> note: see previous
>>>       definition of
>>>       > 'va_copy'
>>>       >
>>>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\slonik.c(75) : 
>>> warning C4172: returning
>>>       address of local
>>>       > variable or temporary: result
>>>       >
>>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H 
>>> /I..\..\ /D HAVE_PGPORT
>>>       > /ID:\\pginstaller.pune\output\include 
>>> /ID:\\pginstaller.pune\output\include\server
>>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD 
>>> dbutil.c
>>>       >
>>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>>> x64
>>>       >
>>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>>       >
>>>       >
>>>       > dbutil.c
>>>       >
>>>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87): 
>>> warning C4005: 'va_copy': macro
>>>       redefinition
>>>       >
>>>       > C:\Program Files (x86)\Microsoft Visual
>>>       > 
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20): 
>>> note: see previous
>>>       definition of
>>>       > 'va_copy'
>>>       >
>>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>>> x64
>>>       >
>>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>>       >
>>>       >
>>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H 
>>> /I..\..\ /D HAVE_PGPORT
>>>       > /ID:\\pginstaller.pune\output\include 
>>> /ID:\\pginstaller.pune\output\include\server
>>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD 
>>> parser.c
>>>       >
>>>       > parser.c
>>>       >
>>>       > C:\Program Files (x86)\Microsoft Visual
>>>       > 
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stddef.h(45): 
>>> warning C4005:
>>>       'offsetof': macro
>>>       > redefinition
>>>       >
>>>       > d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(20): 
>>> note: see previous definition of
>>>       'offsetof'
>>>       >
>>>       > C:\Program Files (x86)\Microsoft Visual
>>>       > 
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(603): 
>>> warning C4142:
>>>       '_strtoui64':
>>>       > benign redefinition of type
>>>       >
>>>       > C:\Program Files (x86)\Microsoft Visual
>>>       > 
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(539): 
>>> note: see
>>>       declaration of
>>>       > '_strtoui64'
>>>       >
>>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H 
>>> /I..\..\ /D HAVE_PGPORT
>>>       > /ID:\\pginstaller.pune\output\include 
>>> /ID:\\pginstaller.pune\output\include\server
>>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD 
>>> /Fo..\parsestatements\scanner.obj
>>>       > ..\parsestatements/scanner.c
>>>       >
>>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>>> x64
>>>       >
>>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>>       >
>>>       >
>>>       > scanner.c
>>>       >
>>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H 
>>> /I..\..\ /D HAVE_PGPORT
>>>       > /ID:\\pginstaller.pune\output\include 
>>> /ID:\\pginstaller.pune\output\include\server
>>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD scan.c
>>>       >
>>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>>> x64
>>>       >
>>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>>       >
>>>       >
>>>       > scan.c
>>>       >
>>>       > link.exe /libpath:D:\\pginstaller.pune\output\lib libpq.lib 
>>> libpgport.lib libpgcommon.lib
>>>       ws2_32.lib
>>>       > kernel32.lib user32.lib advapi32.lib /libpath:C:\\pgBuild64\lib 
>>> intl.lib slonik.obj?
>>>       dbutil.obj? parser.obj?
>>>       > ..\parsestatements\scanner.obj? scan.obj
>>>       >
>>>       > Microsoft (R) Incremental Linker Version 14.14.26428.1
>>>       >
>>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>>       >
>>>       >
>>>       >
>>>       > Microsoft (R) Program Maintenance Utility Version 14.14.26428.1
>>>       >
>>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>>       >
>>>       >
>>>       > Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for 
>>> x64
>>>       >
>>>       > Copyright (C) Microsoft Corporation.? All rights reserved.
>>>       >
>>>       >
>>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /I..\misc /I..\..\
>>>       /ID:\\pginstaller.pune\output\include
>>>       > /ID:\\pginstaller.pune\output\include\server?
>>>       /ID:\\pginstaller.pune\output\include\server\port\win32_msvc
>>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 
>>> /IC:\\pgBuild64\include /D
>>>       HAVE_LL_CONSTANTS=1 /D
>>>       > HAVE_GETACTIVESNAPSHOT? /LD /Gd /Tc? slony1_funcs.c
>>>       >
>>>       > slony1_funcs.c
>>>       >
>>>       > slony1_funcs.c(2904): error C2232: '->attisdropped': left operand 
>>> has 'struct' type, use '.'
>>>       >
>>>       > slony1_funcs.c(2904): warning C4033: 'isDropped' must return a 
>>> value
>>>       >
>>>       > slony1_funcs.c(2919): error C2232: '->atttypmod': left operand has 
>>> 'struct' type, use '.'
>>>       >
>>>       > slony1_funcs.c(2919): warning C4033: 'typeMod' must return a value
>>>       >
>>>       > NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft 
>>> Visual
>>>       > 
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\bin\HostX64\x64\cl.exe"' 
>>> : return code
>>>       '0x2'
>>>       >
>>>       > Stop.
>>>       >
>>>       >
>>>       > Microsoft (R) Program Maintenance Utility Version 14.14.26428.1??
>>>       >
>>>       >? ? ? ?Steve
>>>       >
>>>       >
>>>       >
>>>       > --
>>>       > Thank You,Shaik ZIlanBasha
>>>       >
>>>       >
>>> 
>>> 
>>> 
>>> --
>>> Thank You,Shaik ZIlanBasha
>>> 
>>> 
>> 
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: win32.mak.diff
Type: text/x-diff
Size: 916 bytes
Desc: 
Url : http://lists.slony.info/pipermail/slony1-hackers/attachments/20181015/df999db5/attachment-0001.diff 

From dpage at pgadmin.org  Wed Oct 17 03:34:37 2018
From: dpage at pgadmin.org (Dave Page)
Date: Wed, 17 Oct 2018 11:34:37 +0100
Subject: [Slony1-hackers] Slony-2.27 Compilation issue on windows-x64
In-Reply-To: <CAHEeLTcRobYE1qvSFuiGZLH16zGD2yGYjUa3m0DYE3b7JffBYg@mail.gmail.com>
References: <alpine.DEB.2.11.1810102222200.8719@opti.atlantida>
	<CAHEeLTcNxXtm0wpyL7iWj1NEfdyJBRKkwF2O0PrJBkvwPQc=ew@mail.gmail.com>
	<alpine.DEB.2.11.1810120715350.8719@opti.atlantida>
	<CAHEeLTem4mnH=GbHaGWK9=0ugEqPpH1g7qJ=v=pVB2b1kXHv1w@mail.gmail.com>
	<alpine.DEB.2.11.1810152007130.8719@opti.atlantida>
	<alpine.DEB.2.11.1810152019190.8719@opti.atlantida>
	<alpine.DEB.2.11.1810152042130.8719@opti.atlantida>
	<CAHEeLTf2L_SrVe_8K+1y1j0NOn6VnY5cV__G08+dKyD-n7OQzA@mail.gmail.com>
	<CAHEeLTcRobYE1qvSFuiGZLH16zGD2yGYjUa3m0DYE3b7JffBYg@mail.gmail.com>
Message-ID: <CA+OCxowyHcj4ExkePb5P5nwV1=WBnP_1bM=6n1HvCJ2D-z4uqg@mail.gmail.com>

Hi,

Yes, please share the builds with the patch. We can remove it from the
build process when upstream is updated.

Please let Steve know that the patch works (once basic testing of the
resulting builds is complete).

Thanks!

On Wed, Oct 17, 2018 at 11:29 AM ZilanBasha Shaik <
zilanbasha.shaik at enterprisedb.com> wrote:

> Hi Dave,
>
> Iam able to build the slony windows-x64 installer with Steve's patch.
> I've  checked CMBR-499 marked as blocker. Do you want to me share the
> installers which are generated with above patch?
>
> Can we this patch or do we need to wait for the new sources which contains
> the fix.
>
>
>
>
> On Tue, Oct 16, 2018 at 1:08 PM ZilanBasha Shaik <
> zilanbasha.shaik at enterprisedb.com> wrote:
>
>> Hi Steve,
>>
>>
>> On Tue, Oct 16, 2018 at 6:18 AM Steve Singer <steve at ssinger.info> wrote:
>>
>>> On Mon, 15 Oct 2018, Steve Singer wrote:
>>>
>>> > On Mon, 15 Oct 2018, Steve Singer wrote:
>>> >
>>> > And if you modify win32.mak to explicitly set PG_VERSION_MAJOR as in
>>> the
>>> > attached patch does it make the problem go away?
>>>
>> with this patch compilation went fine.
>>
>>>
>>> Actually try this version, it will work with the other versions of PG as
>>> well.  It will require the
>>> setenv PGVER=11
>>>
>>>
>>>
>>>
>>> >
>>> >
>>> >> On Mon, 15 Oct 2018, ZilanBasha Shaik wrote:
>>> >>
>>> >>>
>>> >>> Hi Steve,
>>> >>> On Fri, Oct 12, 2018 at 4:52 PM Steve Singer <steve at ssinger.info>
>>> wrote:
>>> >>>       On Fri, 12 Oct 2018, ZilanBasha Shaik wrote:
>>> >>>       What is the environment variable PGVER set to?
>>> >>>       It should be set to 11
>>> >>>
>>> >>> Yes, We are using the same value as you mentioned above.  Hers is
>>> >>> the PG_MAJOR_VERSION=11
>>> >>
>>> >>
>>> >> PG_MAJOR_VERSION=11
>>> >>
>>> >> or
>>> >>
>>> >> PGVER=11
>>> >>
>>> >>
>>> >>
>>> >>>       Steve
>>> >>>
>>> >>>
>>> >>>       >
>>> >>>       > Hi Steve,
>>> >>>       > On Thu, Oct 11, 2018 at 8:01 AM Steve Singer <
>>> steve at ssinger.info>
>>> >>> wrote:
>>> >>>       >
>>> >>>       >       ZilanBasha,
>>> >>>       >
>>> >>>       >       The attached patch seems to get slony 2.2.7 compiling
>>> >>> against PG11 beta on
>>> >>>       >       Windows.
>>> >>>       >
>>> >>>       >       Please confirm if this works.
>>> >>>       >
>>> >>>       >
>>> >>>       > I have applied your patch in slony 2.2.7 sources. During the
>>> >>> compilation I come across the
>>> >>>       below error. Here
>>> >>>       > PGV11 version is RC1.
>>> >>>       >
>>> >>>       > Can you please help us to resolve this issue.
>>> >>>       >
>>> >>>       > D:\pginstaller.pune>CALL "C:\\Program Files (x86)\\Microsoft
>>> >>> Visual
>>> >>>       > Studio\\2017\Professional\VC\Auxiliary\Build\vcvarsall.bat"
>>> amd64
>>> >>>       >
>>> >>>       >
>>> >>>
>>> **********************************************************************
>>> >>>       >
>>> >>>       > ** Visual Studio 2017 Developer Command Prompt v15.7.1
>>> >>>       >
>>> >>>       > ** Copyright (c) 2017 Microsoft Corporation
>>> >>>       >
>>> >>>       >
>>> >>>
>>> **********************************************************************
>>> >>>       >
>>> >>>       > [vcvarsall.bat] Environment initialized for: 'x64'
>>> >>>       >
>>> >>>       > cl.exe/c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D
>>> YY_NO_UNISTD_H
>>> >>> /I..\..\ /D HAVE_PGPORT
>>> >>>       > /ID:\\pginstaller.pune\output\include
>>> >>> /ID:\\pginstaller.pune\output\include\server
>>> >>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD
>>> >>> slonik.c
>>> >>>       >
>>> >>>       >
>>> >>>       > Microsoft (R) Program Maintenance Utility Version
>>> 14.14.26428.1
>>> >>>       >
>>> >>>       > Copyright (C) Microsoft Corporation.  All rights reserved.
>>> >>>       >
>>> >>>       >
>>> >>>       > Microsoft (R) C/C++ Optimizing Compiler Version
>>> 19.14.26428.1 for
>>> >>> x64
>>> >>>       >
>>> >>>       > Copyright (C) Microsoft Corporation.  All rights reserved.
>>> >>>       >
>>> >>>       >
>>> >>>       > slonik.c
>>> >>>       >
>>> >>>       >
>>> d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87):
>>> >>> warning C4005: 'va_copy': macro
>>> >>>       redefinition
>>> >>>       >
>>> >>>       > C:\Program Files (x86)\Microsoft Visual
>>> >>>       >
>>> >>>
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20):
>>> >>> note: see previous
>>> >>>       definition of
>>> >>>       > 'va_copy'
>>> >>>       >
>>> >>>       >
>>> d:\pginstaller.pune\slony.windows-x64\src\slonik\slonik.c(75) :
>>> >>> warning C4172: returning
>>> >>>       address of local
>>> >>>       > variable or temporary: result
>>> >>>       >
>>> >>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D
>>> YY_NO_UNISTD_H
>>> >>> /I..\..\ /D HAVE_PGPORT
>>> >>>       > /ID:\\pginstaller.pune\output\include
>>> >>> /ID:\\pginstaller.pune\output\include\server
>>> >>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD
>>> >>> dbutil.c
>>> >>>       >
>>> >>>       > Microsoft (R) C/C++ Optimizing Compiler Version
>>> 19.14.26428.1 for
>>> >>> x64
>>> >>>       >
>>> >>>       > Copyright (C) Microsoft Corporation.  All rights reserved.
>>> >>>       >
>>> >>>       >
>>> >>>       > dbutil.c
>>> >>>       >
>>> >>>       >
>>> d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87):
>>> >>> warning C4005: 'va_copy': macro
>>> >>>       redefinition
>>> >>>       >
>>> >>>       > C:\Program Files (x86)\Microsoft Visual
>>> >>>       >
>>> >>>
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20):
>>> >>> note: see previous
>>> >>>       definition of
>>> >>>       > 'va_copy'
>>> >>>       >
>>> >>>       > Microsoft (R) C/C++ Optimizing Compiler Version
>>> 19.14.26428.1 for
>>> >>> x64
>>> >>>       >
>>> >>>       > Copyright (C) Microsoft Corporation.  All rights reserved.
>>> >>>       >
>>> >>>       >
>>> >>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D
>>> YY_NO_UNISTD_H
>>> >>> /I..\..\ /D HAVE_PGPORT
>>> >>>       > /ID:\\pginstaller.pune\output\include
>>> >>> /ID:\\pginstaller.pune\output\include\server
>>> >>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD
>>> >>> parser.c
>>> >>>       >
>>> >>>       > parser.c
>>> >>>       >
>>> >>>       > C:\Program Files (x86)\Microsoft Visual
>>> >>>       >
>>> >>>
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stddef.h(45):
>>> >>> warning C4005:
>>> >>>       'offsetof': macro
>>> >>>       > redefinition
>>> >>>       >
>>> >>>       >
>>> d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(20):
>>> >>> note: see previous definition of
>>> >>>       'offsetof'
>>> >>>       >
>>> >>>       > C:\Program Files (x86)\Microsoft Visual
>>> >>>       >
>>> >>>
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(603):
>>> >>> warning C4142:
>>> >>>       '_strtoui64':
>>> >>>       > benign redefinition of type
>>> >>>       >
>>> >>>       > C:\Program Files (x86)\Microsoft Visual
>>> >>>       >
>>> >>>
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(539):
>>> >>> note: see
>>> >>>       declaration of
>>> >>>       > '_strtoui64'
>>> >>>       >
>>> >>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D
>>> YY_NO_UNISTD_H
>>> >>> /I..\..\ /D HAVE_PGPORT
>>> >>>       > /ID:\\pginstaller.pune\output\include
>>> >>> /ID:\\pginstaller.pune\output\include\server
>>> >>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD
>>> >>> /Fo..\parsestatements\scanner.obj
>>> >>>       > ..\parsestatements/scanner.c
>>> >>>       >
>>> >>>       > Microsoft (R) C/C++ Optimizing Compiler Version
>>> 19.14.26428.1 for
>>> >>> x64
>>> >>>       >
>>> >>>       > Copyright (C) Microsoft Corporation.  All rights reserved.
>>> >>>       >
>>> >>>       >
>>> >>>       > scanner.c
>>> >>>       >
>>> >>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D
>>> YY_NO_UNISTD_H
>>> >>> /I..\..\ /D HAVE_PGPORT
>>> >>>       > /ID:\\pginstaller.pune\output\include
>>> >>> /ID:\\pginstaller.pune\output\include\server
>>> >>>       > /ID:\\pginstaller.pune\output\include\server\port\win32 /MD
>>> scan.c
>>> >>>       >
>>> >>>       > Microsoft (R) C/C++ Optimizing Compiler Version
>>> 19.14.26428.1 for
>>> >>> x64
>>> >>>       >
>>> >>>       > Copyright (C) Microsoft Corporation.  All rights reserved.
>>> >>>       >
>>> >>>       >
>>> >>>       > scan.c
>>> >>>       >
>>> >>>       > link.exe /libpath:D:\\pginstaller.pune\output\lib libpq.lib
>>> >>> libpgport.lib libpgcommon.lib
>>> >>>       ws2_32.lib
>>> >>>       > kernel32.lib user32.lib advapi32.lib
>>> /libpath:C:\\pgBuild64\lib
>>> >>> intl.lib slonik.obj
>>> >>>       dbutil.obj  parser.obj
>>> >>>       > ..\parsestatements\scanner.obj  scan.obj
>>> >>>       >
>>> >>>       > Microsoft (R) Incremental Linker Version 14.14.26428.1
>>> >>>       >
>>> >>>       > Copyright (C) Microsoft Corporation.  All rights reserved.
>>> >>>       >
>>> >>>       >
>>> >>>       >
>>> >>>       > Microsoft (R) Program Maintenance Utility Version
>>> 14.14.26428.1
>>> >>>       >
>>> >>>       > Copyright (C) Microsoft Corporation.  All rights reserved.
>>> >>>       >
>>> >>>       >
>>> >>>       > Microsoft (R) C/C++ Optimizing Compiler Version
>>> 19.14.26428.1 for
>>> >>> x64
>>> >>>       >
>>> >>>       > Copyright (C) Microsoft Corporation.  All rights reserved.
>>> >>>       >
>>> >>>       >
>>> >>>       > cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /I..\misc
>>> /I..\..\
>>> >>>       /ID:\\pginstaller.pune\output\include
>>> >>>       > /ID:\\pginstaller.pune\output\include\server
>>> >>>       /ID:\\pginstaller.pune\output\include\server\port\win32_msvc
>>> >>>       > /ID:\\pginstaller.pune\output\include\server\port\win32
>>> >>> /IC:\\pgBuild64\include /D
>>> >>>       HAVE_LL_CONSTANTS=1 /D
>>> >>>       > HAVE_GETACTIVESNAPSHOT  /LD /Gd /Tc  slony1_funcs.c
>>> >>>       >
>>> >>>       > slony1_funcs.c
>>> >>>       >
>>> >>>       > slony1_funcs.c(2904): error C2232: '->attisdropped': left
>>> operand
>>> >>> has 'struct' type, use '.'
>>> >>>       >
>>> >>>       > slony1_funcs.c(2904): warning C4033: 'isDropped' must return
>>> a
>>> >>> value
>>> >>>       >
>>> >>>       > slony1_funcs.c(2919): error C2232: '->atttypmod': left
>>> operand has
>>> >>> 'struct' type, use '.'
>>> >>>       >
>>> >>>       > slony1_funcs.c(2919): warning C4033: 'typeMod' must return a
>>> value
>>> >>>       >
>>> >>>       > NMAKE : fatal error U1077: '"C:\Program Files
>>> (x86)\Microsoft
>>> >>> Visual
>>> >>>       >
>>> >>>
>>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\bin\HostX64\x64\cl.exe"'
>>> >>> : return code
>>> >>>       '0x2'
>>> >>>       >
>>> >>>       > Stop.
>>> >>>       >
>>> >>>       >
>>> >>>       > Microsoft (R) Program Maintenance Utility Version
>>> 14.14.26428.1
>>> >>>       >
>>> >>>       >       Steve
>>> >>>       >
>>> >>>       >
>>> >>>       >
>>> >>>       > --
>>> >>>       > Thank You,Shaik ZIlanBasha
>>> >>>       >
>>> >>>       >
>>> >>>
>>> >>>
>>> >>>
>>> >>> --
>>> >>> Thank You,Shaik ZIlanBasha
>>> >>>
>>> >>>
>>> >>
>>> >
>>>
>>
>>
>> --
>> Thank You,
>> Shaik ZIlanBasha
>>
>
>
> --
> Thank You,
> Shaik ZIlanBasha
>


-- 
Dave Page
Blog: http://pgsnake.blogspot.com
Twitter: @pgsnake

EnterpriseDB UK: http://www.enterprisedb.com
The Enterprise PostgreSQL Company
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-hackers/attachments/20181017/db41a641/attachment-0001.htm 

From steve at ssinger.info  Wed Oct 17 19:19:20 2018
From: steve at ssinger.info (Steve Singer)
Date: Wed, 17 Oct 2018 22:19:20 -0400 (EDT)
Subject: [Slony1-hackers] Slony-2.27 Compilation issue on windows-x64
In-Reply-To: <CA+OCxowyHcj4ExkePb5P5nwV1=WBnP_1bM=6n1HvCJ2D-z4uqg@mail.gmail.com>
References: <alpine.DEB.2.11.1810102222200.8719@opti.atlantida>
	<CAHEeLTcNxXtm0wpyL7iWj1NEfdyJBRKkwF2O0PrJBkvwPQc=ew@mail.gmail.com>
	<alpine.DEB.2.11.1810120715350.8719@opti.atlantida>
	<CAHEeLTem4mnH=GbHaGWK9=0ugEqPpH1g7qJ=v=pVB2b1kXHv1w@mail.gmail.com>
	<alpine.DEB.2.11.1810152007130.8719@opti.atlantida>
	<alpine.DEB.2.11.1810152019190.8719@opti.atlantida>
	<alpine.DEB.2.11.1810152042130.8719@opti.atlantida>
	<CAHEeLTf2L_SrVe_8K+1y1j0NOn6VnY5cV__G08+dKyD-n7OQzA@mail.gmail.com>
	<CAHEeLTcRobYE1qvSFuiGZLH16zGD2yGYjUa3m0DYE3b7JffBYg@mail.gmail.com>
	<CA+OCxowyHcj4ExkePb5P5nwV1=WBnP_1bM=6n1HvCJ2D-z4uqg@mail.gmail.com>
Message-ID: <alpine.DEB.2.11.1810172214390.8719@opti.atlantida>

On Wed, 17 Oct 2018, Dave Page wrote:

> Hi, Yes, please share the builds with the patch. We can remove it from the 
> build process when upstream is updated.
> 
> Please let Steve know that the patch works (once basic testing of the 
> resulting builds is complete).


I've committed the patches and pushed them to the git repository.




> 
> Thanks!
> 
> On Wed, Oct 17, 2018 at 11:29 AM ZilanBasha Shaik <zilanbasha.shaik at enterprisedb.com> wrote:
>       Hi Dave,
> Iam able to build the slony windows-x64 installer with Steve's patch. I've? checked CMBR-499 marked as
> blocker. Do you want to me share the installers which are generated with above patch?
> 
> Can we this patch or do we need to wait for the new sources which contains the fix.
> 
> 
> 
> 
> On Tue, Oct 16, 2018 at 1:08 PM ZilanBasha Shaik <zilanbasha.shaik at enterprisedb.com> wrote:
>       Hi Steve,
> 
> On Tue, Oct 16, 2018 at 6:18 AM Steve Singer <steve at ssinger.info> wrote:
>       On Mon, 15 Oct 2018, Steve Singer wrote:
>
>       > On Mon, 15 Oct 2018, Steve Singer wrote:
>       >
>       > And if you modify win32.mak to explicitly set PG_VERSION_MAJOR as in the
>       > attached patch does it make the problem go away?
> 
> with this patch compilation went fine.?
>
>       Actually try this version, it will work with the other versions of PG as
>       well.? It will require the
>       setenv PGVER=11
> 
> 
> 
>
>       >
>       >
>       >> On Mon, 15 Oct 2018, ZilanBasha Shaik wrote:
>       >>
>       >>>
>       >>> Hi Steve,
>       >>> On Fri, Oct 12, 2018 at 4:52 PM Steve Singer <steve at ssinger.info> wrote:
>       >>>? ? ? ?On Fri, 12 Oct 2018, ZilanBasha Shaik wrote:
>       >>>? ? ? ?What is the environment variable PGVER set to?
>       >>>? ? ? ?It should be set to 11
>       >>>
>       >>> Yes, We are using the same value as you mentioned above.? Hers is
>       >>> the?PG_MAJOR_VERSION=11?
>       >>
>       >>
>       >> PG_MAJOR_VERSION=11
>       >>
>       >> or
>       >>
>       >> PGVER=11
>       >>
>       >>
>       >>
>       >>>? ? ? ?Steve
>       >>>
>       >>>
>       >>>? ? ? ?>
>       >>>? ? ? ?> Hi Steve,?
>       >>>? ? ? ?> On Thu, Oct 11, 2018 at 8:01 AM Steve Singer <steve at ssinger.info>
>       >>> wrote:
>       >>>? ? ? ?>
>       >>>? ? ? ?>? ? ? ?ZilanBasha,
>       >>>? ? ? ?>
>       >>>? ? ? ?>? ? ? ?The attached patch seems to get slony 2.2.7 compiling
>       >>> against PG11 beta on
>       >>>? ? ? ?>? ? ? ?Windows.
>       >>>? ? ? ?>
>       >>>? ? ? ?>? ? ? ?Please confirm if this works.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> I have applied your patch in slony 2.2.7 sources. During the
>       >>> compilation I come across the
>       >>>? ? ? ?below error. Here
>       >>>? ? ? ?> PGV11 version is RC1.
>       >>>? ? ? ?>
>       >>>? ? ? ?> Can you please help us to resolve this issue.
>       >>>? ? ? ?>
>       >>>? ? ? ?> D:\pginstaller.pune>CALL "C:\\Program Files (x86)\\Microsoft
>       >>> Visual
>       >>>? ? ? ?> Studio\\2017\Professional\VC\Auxiliary\Build\vcvarsall.bat" amd64?
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>> **********************************************************************
>       >>>? ? ? ?>
>       >>>? ? ? ?> ** Visual Studio 2017 Developer Command Prompt v15.7.1
>       >>>? ? ? ?>
>       >>>? ? ? ?> ** Copyright (c) 2017 Microsoft Corporation
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>> **********************************************************************
>       >>>? ? ? ?>
>       >>>? ? ? ?> [vcvarsall.bat] Environment initialized for: 'x64'
>       >>>? ? ? ?>
>       >>>? ? ? ?> cl.exe/c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H
>       >>> /I..\..\ /D HAVE_PGPORT
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include
>       >>> /ID:\\pginstaller.pune\output\include\server
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include\server\port\win32 /MD?
>       >>> slonik.c
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> Microsoft (R) Program Maintenance Utility Version 14.14.26428.1
>       >>>? ? ? ?>
>       >>>? ? ? ?> Copyright (C) Microsoft Corporation.? All rights reserved.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for
>       >>> x64
>       >>>? ? ? ?>
>       >>>? ? ? ?> Copyright (C) Microsoft Corporation.? All rights reserved.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> slonik.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87):
>       >>> warning C4005: 'va_copy': macro
>       >>>? ? ? ?redefinition
>       >>>? ? ? ?>
>       >>>? ? ? ?> C:\Program Files (x86)\Microsoft Visual
>       >>>? ? ? ?>
>       >>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20):
>       >>> note: see previous
>       >>>? ? ? ?definition of
>       >>>? ? ? ?> 'va_copy'
>       >>>? ? ? ?>
>       >>>? ? ? ?> d:\pginstaller.pune\slony.windows-x64\src\slonik\slonik.c(75) :
>       >>> warning C4172: returning
>       >>>? ? ? ?address of local
>       >>>? ? ? ?> variable or temporary: result
>       >>>? ? ? ?>
>       >>>? ? ? ?> cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H
>       >>> /I..\..\ /D HAVE_PGPORT
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include
>       >>> /ID:\\pginstaller.pune\output\include\server
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include\server\port\win32 /MD
>       >>> dbutil.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for
>       >>> x64
>       >>>? ? ? ?>
>       >>>? ? ? ?> Copyright (C) Microsoft Corporation.? All rights reserved.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> dbutil.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(87):
>       >>> warning C4005: 'va_copy': macro
>       >>>? ? ? ?redefinition
>       >>>? ? ? ?>
>       >>>? ? ? ?> C:\Program Files (x86)\Microsoft Visual
>       >>>? ? ? ?>
>       >>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdarg.h(20):
>       >>> note: see previous
>       >>>? ? ? ?definition of
>       >>>? ? ? ?> 'va_copy'
>       >>>? ? ? ?>
>       >>>? ? ? ?> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for
>       >>> x64
>       >>>? ? ? ?>
>       >>>? ? ? ?> Copyright (C) Microsoft Corporation.? All rights reserved.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H
>       >>> /I..\..\ /D HAVE_PGPORT
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include
>       >>> /ID:\\pginstaller.pune\output\include\server
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include\server\port\win32 /MD
>       >>> parser.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> parser.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> C:\Program Files (x86)\Microsoft Visual
>       >>>? ? ? ?>
>       >>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stddef.h(45):
>       >>> warning C4005:
>       >>>? ? ? ?'offsetof': macro
>       >>>? ? ? ?> redefinition
>       >>>? ? ? ?>
>       >>>? ? ? ?> d:\pginstaller.pune\slony.windows-x64\src\slonik\types.h(20):
>       >>> note: see previous definition of
>       >>>? ? ? ?'offsetof'
>       >>>? ? ? ?>
>       >>>? ? ? ?> C:\Program Files (x86)\Microsoft Visual
>       >>>? ? ? ?>
>       >>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(603):
>       >>> warning C4142:
>       >>>? ? ? ?'_strtoui64':
>       >>>? ? ? ?> benign redefinition of type
>       >>>? ? ? ?>
>       >>>? ? ? ?> C:\Program Files (x86)\Microsoft Visual
>       >>>? ? ? ?>
>       >>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\include\stdlib.h(539):
>       >>> note: see
>       >>>? ? ? ?declaration of
>       >>>? ? ? ?> '_strtoui64'
>       >>>? ? ? ?>
>       >>>? ? ? ?> cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H
>       >>> /I..\..\ /D HAVE_PGPORT
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include
>       >>> /ID:\\pginstaller.pune\output\include\server
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include\server\port\win32 /MD
>       >>> /Fo..\parsestatements\scanner.obj
>       >>>? ? ? ?> ..\parsestatements/scanner.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for
>       >>> x64
>       >>>? ? ? ?>
>       >>>? ? ? ?> Copyright (C) Microsoft Corporation.? All rights reserved.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> scanner.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /D YY_NO_UNISTD_H
>       >>> /I..\..\ /D HAVE_PGPORT
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include
>       >>> /ID:\\pginstaller.pune\output\include\server
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include\server\port\win32 /MD scan.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for
>       >>> x64
>       >>>? ? ? ?>
>       >>>? ? ? ?> Copyright (C) Microsoft Corporation.? All rights reserved.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> scan.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> link.exe /libpath:D:\\pginstaller.pune\output\lib libpq.lib
>       >>> libpgport.lib libpgcommon.lib
>       >>>? ? ? ?ws2_32.lib
>       >>>? ? ? ?> kernel32.lib user32.lib advapi32.lib /libpath:C:\\pgBuild64\lib
>       >>> intl.lib slonik.obj?
>       >>>? ? ? ?dbutil.obj? parser.obj?
>       >>>? ? ? ?> ..\parsestatements\scanner.obj? scan.obj
>       >>>? ? ? ?>
>       >>>? ? ? ?> Microsoft (R) Incremental Linker Version 14.14.26428.1
>       >>>? ? ? ?>
>       >>>? ? ? ?> Copyright (C) Microsoft Corporation.? All rights reserved.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> Microsoft (R) Program Maintenance Utility Version 14.14.26428.1
>       >>>? ? ? ?>
>       >>>? ? ? ?> Copyright (C) Microsoft Corporation.? All rights reserved.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> Microsoft (R) C/C++ Optimizing Compiler Version 19.14.26428.1 for
>       >>> x64
>       >>>? ? ? ?>
>       >>>? ? ? ?> Copyright (C) Microsoft Corporation.? All rights reserved.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> cl.exe /c /D MSVC /D WIN32 /D PGSHARE=\"\"\"\" /I..\misc /I..\..\
>       >>>? ? ? ?/ID:\\pginstaller.pune\output\include
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include\server?
>       >>>? ? ? ?/ID:\\pginstaller.pune\output\include\server\port\win32_msvc
>       >>>? ? ? ?> /ID:\\pginstaller.pune\output\include\server\port\win32
>       >>> /IC:\\pgBuild64\include /D
>       >>>? ? ? ?HAVE_LL_CONSTANTS=1 /D
>       >>>? ? ? ?> HAVE_GETACTIVESNAPSHOT? /LD /Gd /Tc? slony1_funcs.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> slony1_funcs.c
>       >>>? ? ? ?>
>       >>>? ? ? ?> slony1_funcs.c(2904): error C2232: '->attisdropped': left operand
>       >>> has 'struct' type, use '.'
>       >>>? ? ? ?>
>       >>>? ? ? ?> slony1_funcs.c(2904): warning C4033: 'isDropped' must return a
>       >>> value
>       >>>? ? ? ?>
>       >>>? ? ? ?> slony1_funcs.c(2919): error C2232: '->atttypmod': left operand has
>       >>> 'struct' type, use '.'
>       >>>? ? ? ?>
>       >>>? ? ? ?> slony1_funcs.c(2919): warning C4033: 'typeMod' must return a value
>       >>>? ? ? ?>
>       >>>? ? ? ?> NMAKE : fatal error U1077: '"C:\Program Files (x86)\Microsoft
>       >>> Visual
>       >>>? ? ? ?>
>       >>> Studio\2017\Professional\VC\Tools\MSVC\14.14.26428\bin\HostX64\x64\cl.exe"'
>       >>> : return code
>       >>>? ? ? ?'0x2'
>       >>>? ? ? ?>
>       >>>? ? ? ?> Stop.
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> Microsoft (R) Program Maintenance Utility Version 14.14.26428.1??
>       >>>? ? ? ?>
>       >>>? ? ? ?>? ? ? ?Steve
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>? ? ? ?> --
>       >>>? ? ? ?> Thank You,Shaik ZIlanBasha
>       >>>? ? ? ?>
>       >>>? ? ? ?>
>       >>>
>       >>>
>       >>>
>       >>> --
>       >>> Thank You,Shaik ZIlanBasha
>       >>>
>       >>>
>       >>
>       >
> 
> 
> 
> --
> Thank You,Shaik ZIlanBasha
> 
> 
> 
> --
> Thank You,Shaik ZIlanBasha
> 
> 
> 
> --
> Dave Page
> Blog: http://pgsnake.blogspot.com
> Twitter: @pgsnake
> 
> EnterpriseDB UK: http://www.enterprisedb.com
> The Enterprise PostgreSQL Company
> 
>

