From bugzilla-daemon at main.slony.info  Thu May  3 10:23:49 2012
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu,  3 May 2012 10:23:49 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 265] New: Slony 2.2(master) fails to load
	against 8.3
Message-ID: <bug-265-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=265

           Summary: Slony 2.2(master) fails to load against 8.3
           Product: Slony-I
           Version: devel
          Platform: PC
        OS/Version: Linux
            Status: NEW
          Severity: blocker
          Priority: low
         Component: stored procedures
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: ssinger at ca.afilias.info
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


When I try to run cluster test against 2.2(master) I get

2012-05-03 13:14:44,688 [slonik init stdout] DEBUG
info.slony.clustertest.testcoordinator.slony.SlonikScript slonik init:j
ava.lang.UNIXProcess at 2a8ab08f - <stdin>:38: loading of file
/usr/local/pgsql8.3/share//slony1_funcs.2.2.0.sql: PGRES_FATAL
_ERROR ERROR:  syntax error at or near "]"
2012-05-03 13:14:44,686 [slonik initexit] INFO 
info.slony.clustertest.testcoordinator.slony.ShellExecScript slonik init:j
ava.lang.UNIXProcess at 2a8ab08f - exit with return code:255
2012-05-03 13:14:44,688 [slonik init stdout] DEBUG
info.slony.clustertest.testcoordinator.slony.SlonikScript slonik init:j
ava.lang.UNIXProcess at 2a8ab08f - LINE 1: ...plica".sl_action_seq'),  $3 ,  $4 ,
'T', 0, array[]::text[])
2012-05-03 13:14:44,688 [slonik init stdout] DEBUG
info.slony.clustertest.testcoordinator.slony.SlonikScript slonik init:j
ava.lang.UNIXProcess at 2a8ab08f -                                                
             ^
2012-05-03 13:14:44,688 [slonik init stdout] DEBUG
info.slony.clustertest.testcoordinator.slony.SlonikScript slonik init:j
ava.lang.UNIXProcess at 2a8ab08f - QUERY:  insert into
"_disorder_replica".sl_log_1 ( log_origin, log_txid, log_tableid, log_
actionseq, log_tablenspname, log_tablerelname, log_cmdtype, log_cmdupdncols,
log_cmdargs ) values (  $1 , pg_catalog.txid_
current(),  $2 , nextval('"_disorder_replica".sl_action_seq'),  $3 ,  $4 , 'T',
0, array[]::text[])
2012-05-03 13:14:44,688 [slonik init stdout] DEBUG
info.slony.clustertest.testcoordinator.slony.SlonikScript slonik init:j
ava.lang.UNIXProcess at 2a8ab08f - CONTEXT:  SQL statement in PL/PgSQL function
"log_truncate" near line 22


This is reported against: b6b409b34ec5a1008c8434f96df5443814658c41

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

