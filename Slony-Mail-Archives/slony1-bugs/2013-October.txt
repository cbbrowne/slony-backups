From bugzilla-daemon at main.slony.info  Thu Oct  3 10:33:37 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu,  3 Oct 2013 10:33:37 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 315] Slony 2.1.1 will not build on Debian Wheezy
In-Reply-To: <bug-315-4@http.www.slony.info/bugzilla/>
References: <bug-315-4@http.www.slony.info/bugzilla/>
Message-ID: <20131003173337.D062E29132B@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=315

--- Comment #2 from Steve Singer <ssinger at ca.afilias.info> 2013-10-03 10:33:38 PDT ---
Pushed to REL_2_1_STABLE REL_2_2_STABLE and master

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From sven.meirsman at gmail.com  Sat Oct  5 15:13:35 2013
From: sven.meirsman at gmail.com (Sven Meirsman)
Date: Sun, 6 Oct 2013 00:13:35 +0200
Subject: [Slony1-bugs] Postgres 9.3 + Slony-I 2.2.0 + PgAdmin 1.18.0 on
 Windows Server 2003 R2 Enterprise 32 Bit
Message-ID: <CAL349-y+8kPiHTjOUxVQaGNEbP0+4BzMsRN0pkU4Gy+vaVV2jA@mail.gmail.com>

Hello there,

I can not get Slony-I running on the setup mentioned in the subject. I
always get the message that the Slony-I scripts are not available. I tried
everything, to no avail.

Slony-I path in PgAdmin is pointing to the postgres' share folder, which
contains several slony scripts. I'm running out of options and I really
need to get replication up and running.

Can someone help me out here?

regards,
Sven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-bugs/attachments/20131006/2d9dc1fd/attachment.htm 

From sven.meirsman at gmail.com  Wed Oct  9 00:21:10 2013
From: sven.meirsman at gmail.com (Sven Meirsman)
Date: Wed, 9 Oct 2013 09:21:10 +0200
Subject: [Slony1-bugs] Postgres 9.3 + Slony-I 2.2.0 + PgAdmin 1.18.0 on
 Windows Server 2003 R2 Enterprise 32 Bit
In-Reply-To: <CANfbgbay-qSh2bWXjVXk5c=YyEeOnWua_V7zji_Tsc_MzGuByA@mail.gmail.com>
References: <CAL349-y+8kPiHTjOUxVQaGNEbP0+4BzMsRN0pkU4Gy+vaVV2jA@mail.gmail.com>
	<CANfbgbay-qSh2bWXjVXk5c=YyEeOnWua_V7zji_Tsc_MzGuByA@mail.gmail.com>
Message-ID: <CAL349-xg-dSgyGfwGGde1Ns+pmhLXNXN--psyNWOnHjK2_Ho5g@mail.gmail.com>

Ok, thanks for the answer. Could you point me in the direction of a good
starters guide for Slony-I on a windows server system? I haven't been able
to find anything useful...

Sven


2013/10/7 Christopher Browne <cbbrowne at afilias.info>

> PgAdmin's Slony support is based on the code in Slony 1.2, so is about
> five years obsolete.  There have been substantial changes to Slony since
> then that mean that the interfacing in PgAdmin is truly no longer
> compatible, and it would take fairly substantial effort that nobody seems
> interested in putting in.
>
> Remove PgAdmin from the mix and the remaining combination is likely
> reasonably interoperable.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-bugs/attachments/20131009/0d7948c8/attachment.htm 

From bugzilla-daemon at main.slony.info  Mon Oct 14 10:52:11 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 10:52:11 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 316] New: WAIT FOR EVENT with a non-existing
 CONFIRMED node is a no-op
Message-ID: <bug-316-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=316

           Summary: WAIT FOR EVENT with a non-existing CONFIRMED node is a
                    no-op
           Product: Slony-I
           Version: devel
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: normal
          Priority: low
         Component: slonik
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: janwieck at yahoo.com
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


WAIT FOR EVENT where the parameter CONFIRMED is a non-existing node ID does
nothing. I believe this should raise an error.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 10:57:50 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 10:57:50 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 317] New: When stdout of slonik is not a
 terminal it is fully buffered
Message-ID: <bug-317-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=317

           Summary: When stdout of slonik is not a terminal it is fully
                    buffered
           Product: Slony-I
           Version: devel
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: enhancement
          Priority: low
         Component: slonik
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: janwieck at yahoo.com
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


Slonik uses both, stdout and stderr. When stdout is not a terminal, it becomes
fully buffered by default. If slonik dies with a crash, the last of stdout may
be lost in this case. Also if stdout and stderr are combined at a higher level,
messages can appear out of order.

I propose to call setlinebuf(3) on stdout at the start of slonik.

I further propose to move all output to stdout. That includes implementing a
notice processor that will use the same output function that adds the script
position to other messages.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:01:47 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:01:47 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 318] New: FAILOVER can lead to an endless
	restart loop of slon
Message-ID: <bug-318-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=318

           Summary: FAILOVER can lead to an endless restart loop of slon
           Product: Slony-I
           Version: devel
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: critical
          Priority: low
         Component: slon
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: janwieck at yahoo.com
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


If at the time of FAILOVER the designated backup node is not the most advanced
node, it can lead to an endless restart loop. 

I have a fix for this that I will attach later.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:03:50 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:03:50 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 319] New: NULL pointer dereferenced on losing
 connection during SYNC
Message-ID: <bug-319-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=319

           Summary: NULL pointer dereferenced on losing connection during
                    SYNC
           Product: Slony-I
           Version: devel
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: normal
          Priority: low
         Component: slon
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: janwieck at yahoo.com
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


In remote_worker.c inside of the sync processing are two possible NULL pointer
usages.

Will attach fix later.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:15:08 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:15:08 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 318] FAILOVER can lead to an endless restart
	loop of slon
In-Reply-To: <bug-318-4@http.www.slony.info/bugzilla/>
References: <bug-318-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014181508.38AD12912FA@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=318

--- Comment #1 from Jan Wieck <janwieck at yahoo.com> 2013-10-14 11:15:08 PDT ---
Created an attachment (id=185)
 --> (http://www.slony.info/bugzilla/attachment.cgi?id=185)
Patch to fix bug 318

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:15:26 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:15:26 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 318] FAILOVER can lead to an endless restart
	loop of slon
In-Reply-To: <bug-318-4@http.www.slony.info/bugzilla/>
References: <bug-318-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014181526.6B3542912FA@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=318

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                URL|                            |https://github.com/wieck/sl
                   |                            |ony1-engine/commit/e1666bac
                   |                            |9de1ead7d8b39ee454b69d943fe
                   |                            |2db1c

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:24:46 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:24:46 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 319] NULL pointer dereferenced on losing
	connection during SYNC
In-Reply-To: <bug-319-4@http.www.slony.info/bugzilla/>
References: <bug-319-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014182446.E9FE82912FA@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=319

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                URL|                            |https://github.com/wieck/sl
                   |                            |ony1-engine/commit/2978155f
                   |                            |d688b70545c0326e21df747bf23
                   |                            |2644b

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:25:24 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:25:24 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 319] NULL pointer dereferenced on losing
	connection during SYNC
In-Reply-To: <bug-319-4@http.www.slony.info/bugzilla/>
References: <bug-319-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014182524.3C29F291319@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=319

--- Comment #1 from Jan Wieck <janwieck at yahoo.com> 2013-10-14 11:25:24 PDT ---
Created an attachment (id=186)
 --> (http://www.slony.info/bugzilla/attachment.cgi?id=186)
Patch to fix bug 319

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:25:51 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:25:51 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 319] NULL pointer dereferenced on losing
	connection during SYNC
In-Reply-To: <bug-319-4@http.www.slony.info/bugzilla/>
References: <bug-319-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014182551.29550291319@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=319

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         AssignedTo|slony1-bugs at lists.slony.inf |janwieck at yahoo.com
                   |o                           |
             Status|NEW                         |ASSIGNED

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:26:12 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:26:12 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 318] FAILOVER can lead to an endless restart
	loop of slon
In-Reply-To: <bug-318-4@http.www.slony.info/bugzilla/>
References: <bug-318-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014182612.CFC7B291319@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=318

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         AssignedTo|slony1-bugs at lists.slony.inf |janwieck at yahoo.com
                   |o                           |
             Status|NEW                         |ASSIGNED

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

