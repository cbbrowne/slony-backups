From bugzilla-daemon at main.slony.info  Thu Oct  3 10:33:37 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu,  3 Oct 2013 10:33:37 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 315] Slony 2.1.1 will not build on Debian Wheezy
In-Reply-To: <bug-315-4@http.www.slony.info/bugzilla/>
References: <bug-315-4@http.www.slony.info/bugzilla/>
Message-ID: <20131003173337.D062E29132B@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=315

--- Comment #2 from Steve Singer <ssinger at ca.afilias.info> 2013-10-03 10:33:38 PDT ---
Pushed to REL_2_1_STABLE REL_2_2_STABLE and master

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From sven.meirsman at gmail.com  Sat Oct  5 15:13:35 2013
From: sven.meirsman at gmail.com (Sven Meirsman)
Date: Sun, 6 Oct 2013 00:13:35 +0200
Subject: [Slony1-bugs] Postgres 9.3 + Slony-I 2.2.0 + PgAdmin 1.18.0 on
 Windows Server 2003 R2 Enterprise 32 Bit
Message-ID: <CAL349-y+8kPiHTjOUxVQaGNEbP0+4BzMsRN0pkU4Gy+vaVV2jA@mail.gmail.com>

Hello there,

I can not get Slony-I running on the setup mentioned in the subject. I
always get the message that the Slony-I scripts are not available. I tried
everything, to no avail.

Slony-I path in PgAdmin is pointing to the postgres' share folder, which
contains several slony scripts. I'm running out of options and I really
need to get replication up and running.

Can someone help me out here?

regards,
Sven
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-bugs/attachments/20131006/2d9dc1fd/attachment.htm 

From sven.meirsman at gmail.com  Wed Oct  9 00:21:10 2013
From: sven.meirsman at gmail.com (Sven Meirsman)
Date: Wed, 9 Oct 2013 09:21:10 +0200
Subject: [Slony1-bugs] Postgres 9.3 + Slony-I 2.2.0 + PgAdmin 1.18.0 on
 Windows Server 2003 R2 Enterprise 32 Bit
In-Reply-To: <CANfbgbay-qSh2bWXjVXk5c=YyEeOnWua_V7zji_Tsc_MzGuByA@mail.gmail.com>
References: <CAL349-y+8kPiHTjOUxVQaGNEbP0+4BzMsRN0pkU4Gy+vaVV2jA@mail.gmail.com>
	<CANfbgbay-qSh2bWXjVXk5c=YyEeOnWua_V7zji_Tsc_MzGuByA@mail.gmail.com>
Message-ID: <CAL349-xg-dSgyGfwGGde1Ns+pmhLXNXN--psyNWOnHjK2_Ho5g@mail.gmail.com>

Ok, thanks for the answer. Could you point me in the direction of a good
starters guide for Slony-I on a windows server system? I haven't been able
to find anything useful...

Sven


2013/10/7 Christopher Browne <cbbrowne at afilias.info>

> PgAdmin's Slony support is based on the code in Slony 1.2, so is about
> five years obsolete.  There have been substantial changes to Slony since
> then that mean that the interfacing in PgAdmin is truly no longer
> compatible, and it would take fairly substantial effort that nobody seems
> interested in putting in.
>
> Remove PgAdmin from the mix and the remaining combination is likely
> reasonably interoperable.
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.slony.info/pipermail/slony1-bugs/attachments/20131009/0d7948c8/attachment.htm 

From bugzilla-daemon at main.slony.info  Mon Oct 14 10:52:11 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 10:52:11 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 316] New: WAIT FOR EVENT with a non-existing
 CONFIRMED node is a no-op
Message-ID: <bug-316-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=316

           Summary: WAIT FOR EVENT with a non-existing CONFIRMED node is a
                    no-op
           Product: Slony-I
           Version: devel
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: normal
          Priority: low
         Component: slonik
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: janwieck at yahoo.com
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


WAIT FOR EVENT where the parameter CONFIRMED is a non-existing node ID does
nothing. I believe this should raise an error.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 10:57:50 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 10:57:50 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 317] New: When stdout of slonik is not a
 terminal it is fully buffered
Message-ID: <bug-317-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=317

           Summary: When stdout of slonik is not a terminal it is fully
                    buffered
           Product: Slony-I
           Version: devel
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: enhancement
          Priority: low
         Component: slonik
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: janwieck at yahoo.com
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


Slonik uses both, stdout and stderr. When stdout is not a terminal, it becomes
fully buffered by default. If slonik dies with a crash, the last of stdout may
be lost in this case. Also if stdout and stderr are combined at a higher level,
messages can appear out of order.

I propose to call setlinebuf(3) on stdout at the start of slonik.

I further propose to move all output to stdout. That includes implementing a
notice processor that will use the same output function that adds the script
position to other messages.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:01:47 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:01:47 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 318] New: FAILOVER can lead to an endless
	restart loop of slon
Message-ID: <bug-318-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=318

           Summary: FAILOVER can lead to an endless restart loop of slon
           Product: Slony-I
           Version: devel
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: critical
          Priority: low
         Component: slon
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: janwieck at yahoo.com
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


If at the time of FAILOVER the designated backup node is not the most advanced
node, it can lead to an endless restart loop. 

I have a fix for this that I will attach later.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:03:50 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:03:50 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 319] New: NULL pointer dereferenced on losing
 connection during SYNC
Message-ID: <bug-319-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=319

           Summary: NULL pointer dereferenced on losing connection during
                    SYNC
           Product: Slony-I
           Version: devel
          Platform: All
        OS/Version: All
            Status: NEW
          Severity: normal
          Priority: low
         Component: slon
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: janwieck at yahoo.com
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


In remote_worker.c inside of the sync processing are two possible NULL pointer
usages.

Will attach fix later.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:15:08 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:15:08 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 318] FAILOVER can lead to an endless restart
	loop of slon
In-Reply-To: <bug-318-4@http.www.slony.info/bugzilla/>
References: <bug-318-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014181508.38AD12912FA@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=318

--- Comment #1 from Jan Wieck <janwieck at yahoo.com> 2013-10-14 11:15:08 PDT ---
Created an attachment (id=185)
 --> (http://www.slony.info/bugzilla/attachment.cgi?id=185)
Patch to fix bug 318

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:15:26 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:15:26 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 318] FAILOVER can lead to an endless restart
	loop of slon
In-Reply-To: <bug-318-4@http.www.slony.info/bugzilla/>
References: <bug-318-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014181526.6B3542912FA@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=318

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                URL|                            |https://github.com/wieck/sl
                   |                            |ony1-engine/commit/e1666bac
                   |                            |9de1ead7d8b39ee454b69d943fe
                   |                            |2db1c

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:24:46 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:24:46 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 319] NULL pointer dereferenced on losing
	connection during SYNC
In-Reply-To: <bug-319-4@http.www.slony.info/bugzilla/>
References: <bug-319-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014182446.E9FE82912FA@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=319

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                URL|                            |https://github.com/wieck/sl
                   |                            |ony1-engine/commit/2978155f
                   |                            |d688b70545c0326e21df747bf23
                   |                            |2644b

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:25:24 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:25:24 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 319] NULL pointer dereferenced on losing
	connection during SYNC
In-Reply-To: <bug-319-4@http.www.slony.info/bugzilla/>
References: <bug-319-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014182524.3C29F291319@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=319

--- Comment #1 from Jan Wieck <janwieck at yahoo.com> 2013-10-14 11:25:24 PDT ---
Created an attachment (id=186)
 --> (http://www.slony.info/bugzilla/attachment.cgi?id=186)
Patch to fix bug 319

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:25:51 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:25:51 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 319] NULL pointer dereferenced on losing
	connection during SYNC
In-Reply-To: <bug-319-4@http.www.slony.info/bugzilla/>
References: <bug-319-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014182551.29550291319@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=319

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         AssignedTo|slony1-bugs at lists.slony.inf |janwieck at yahoo.com
                   |o                           |
             Status|NEW                         |ASSIGNED

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Mon Oct 14 11:26:12 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Mon, 14 Oct 2013 11:26:12 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 318] FAILOVER can lead to an endless restart
	loop of slon
In-Reply-To: <bug-318-4@http.www.slony.info/bugzilla/>
References: <bug-318-4@http.www.slony.info/bugzilla/>
Message-ID: <20131014182612.CFC7B291319@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=318

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         AssignedTo|slony1-bugs at lists.slony.inf |janwieck at yahoo.com
                   |o                           |
             Status|NEW                         |ASSIGNED

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Tue Oct 15 13:55:38 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Tue, 15 Oct 2013 13:55:38 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 320] New: no_failed column missing in sl_node
 following upgrade to 2.2.0
Message-ID: <bug-320-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=320

           Summary: no_failed column missing in sl_node following upgrade
                    to 2.2.0
           Product: Slony-I
           Version: devel
          Platform: PC
        OS/Version: Linux
            Status: NEW
          Severity: enhancement
          Priority: low
         Component: stored procedures
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: ssinger at ca.afilias.info
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


The UPDATE FUNCTIONS upgrade from a 2.1.x (or 2.0.x) Slony to 2.2.0 does not
create the no_failed column in sl_node.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Tue Oct 15 14:01:42 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Tue, 15 Oct 2013 14:01:42 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 317] When stdout of slonik is not a terminal it
 is fully buffered
In-Reply-To: <bug-317-4@http.www.slony.info/bugzilla/>
References: <bug-317-4@http.www.slony.info/bugzilla/>
Message-ID: <20131015210142.9011D29132F@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=317

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         AssignedTo|slony1-bugs at lists.slony.inf |janwieck at yahoo.com
                   |o                           |
             Status|NEW                         |ASSIGNED
                URL|                            |https://github.com/wieck/sl
                   |                            |ony1-engine/commit/fc8c985e
                   |                            |70e5715122953d1a4da802721d1
                   |                            |7272e

--- Comment #1 from Jan Wieck <janwieck at yahoo.com> 2013-10-15 14:01:42 PDT ---
Here are the proposed changes:
https://github.com/wieck/slony1-engine/commit/fc8c985e70e5715122953d1a4da802721d17272e

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Tue Oct 15 14:10:00 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Tue, 15 Oct 2013 14:10:00 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 320] no_failed column missing in sl_node
 following upgrade to 2.2.0
In-Reply-To: <bug-320-4@http.www.slony.info/bugzilla/>
References: <bug-320-4@http.www.slony.info/bugzilla/>
Message-ID: <20131015211000.531B829132F@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=320

--- Comment #1 from Steve Singer <ssinger at ca.afilias.info> 2013-10-15 14:10:00 PDT ---
Created an attachment (id=187)
 --> (http://www.slony.info/bugzilla/attachment.cgi?id=187)
Proposed fix 

Create the no_failed column (if required) during the updateSchema function call

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Tue Oct 15 20:14:32 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Tue, 15 Oct 2013 20:14:32 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 320] no_failed column missing in sl_node
 following upgrade to 2.2.0
In-Reply-To: <bug-320-4@http.www.slony.info/bugzilla/>
References: <bug-320-4@http.www.slony.info/bugzilla/>
Message-ID: <20131016031432.2DF6029133B@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=320

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         Resolution|                            |FIXED
             Status|NEW                         |RESOLVED

--- Comment #2 from Jan Wieck <janwieck at yahoo.com> 2013-10-15 20:14:32 PDT ---
Passed regression tests.

Failed two (clone node) tests from disorder, but should be irrelevant.

Applied to master and REL_2_2_STABLE.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Wed Oct 16 12:13:47 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Wed, 16 Oct 2013 12:13:47 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 316] WAIT FOR EVENT with a non-existing
 CONFIRMED node is a no-op
In-Reply-To: <bug-316-4@http.www.slony.info/bugzilla/>
References: <bug-316-4@http.www.slony.info/bugzilla/>
Message-ID: <20131016191347.45BEB2912F8@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=316

Christopher Browne <cbbrowne at ca.afilias.info> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         AssignedTo|slony1-bugs at lists.slony.inf |janwieck at yahoo.com
                   |o                           |
             Status|NEW                         |ASSIGNED

--- Comment #1 from Christopher Browne <cbbrowne at ca.afilias.info> 2013-10-16 12:13:47 PDT ---
Seems agreeable to have this treated as an error condition.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Wed Oct 16 13:34:51 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Wed, 16 Oct 2013 13:34:51 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] New: constant provider disconnects &
	reconnects
Message-ID: <bug-321-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

           Summary: constant provider disconnects & reconnects
           Product: Slony-I
           Version: devel
          Platform: PC
        OS/Version: Linux
            Status: NEW
          Severity: enhancement
          Priority: low
         Component: slon
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: ssinger at ca.afilias.info
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


This was reported by someone running slony 2.2.0 in a 6 node cluster with a 1
set and where some nodes were cascaded.


They have a constant stream of messages in their logs of the form:

CONFIG remoteWorkerThread_8322: update provider configuration
CONFIG remoteWorkerThread_8322: helper thread for provider 8322 terminated
CONFIG remoteWorkerThread_8322: disconnecting from data provider 8322
CONFIG remoteWorkerThread_8321: update provider configuration
CONFIG remoteWorkerThread_8321: helper thread for provider 8381 terminated
CONFIG remoteWorkerThread_8321: disconnecting from data provider 8381


The providers keep connecting and disconnecting.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 06:04:33 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 06:04:33 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 315] Slony 2.1.1 will not build on Debian Wheezy
In-Reply-To: <bug-315-4@http.www.slony.info/bugzilla/>
References: <bug-315-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017130433.AFC2129133E@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=315

Steve Singer <ssinger at ca.afilias.info> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         Resolution|                            |FIXED
             Status|NEW                         |RESOLVED

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 06:05:29 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 06:05:29 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 313] EXECUTE SCRIPT error with sequences not
 replicated everywhere
In-Reply-To: <bug-313-4@http.www.slony.info/bugzilla/>
References: <bug-313-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017130529.C9A9E291330@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=313

Steve Singer <ssinger at ca.afilias.info> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         Resolution|                            |FIXED
             Status|ASSIGNED                    |RESOLVED

--- Comment #4 from Steve Singer <ssinger at ca.afilias.info> 2013-10-17 06:05:30 PDT ---
This was committed and included in 2.2.0

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 06:07:18 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 06:07:18 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 312] Missing man pages in
	slony1-2.1.4-docs.tar.bz2
In-Reply-To: <bug-312-4@http.www.slony.info/bugzilla/>
References: <bug-312-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017130718.22538291330@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=312

Steve Singer <ssinger at ca.afilias.info> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         Resolution|                            |FIXED
             Status|NEW                         |RESOLVED

--- Comment #2 from Steve Singer <ssinger at ca.afilias.info> 2013-10-17 06:07:18 PDT ---
Resolving since the docs tar was regenerated and 2.2.0 did not have the same
issue

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 06:07:30 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 06:07:30 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 311] tar error when extracting
	slony1-2.1.4-docs.tar.bz2
In-Reply-To: <bug-311-4@http.www.slony.info/bugzilla/>
References: <bug-311-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017130730.6C06B291330@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=311

Steve Singer <ssinger at ca.afilias.info> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         Resolution|                            |FIXED
             Status|NEW                         |RESOLVED

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 06:08:27 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 06:08:27 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 309] sl_failover_targets view missing after
 upgrade from 2.1 to 2.2 using UPDATE FUNCTIONS.
In-Reply-To: <bug-309-4@http.www.slony.info/bugzilla/>
References: <bug-309-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017130827.1A801291334@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=309

Steve Singer <ssinger at ca.afilias.info> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         Resolution|                            |FIXED
             Status|NEW                         |RESOLVED

--- Comment #1 from Steve Singer <ssinger at ca.afilias.info> 2013-10-17 06:08:27 PDT ---
This was fixed with commit 151c78eaf85046c39df278115980cc89a3cb7bfa in 2.2.0

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 06:10:35 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 06:10:35 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 310] slon loops restarting on a FAILOVER
In-Reply-To: <bug-310-4@http.www.slony.info/bugzilla/>
References: <bug-310-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017131036.0601429133E@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=310

--- Comment #3 from Steve Singer <ssinger at ca.afilias.info> 2013-10-17 06:10:36 PDT ---
This patch was committed b98a966ba5967b60b0482ae259a3ef32f14829fc as part of
2.2.0
but this sounds a lot like bug #318 as well (which was present in 2.2.0)

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 06:12:27 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 06:12:27 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 304] Sequences are not SYNC'd as part of EXECUTE
	SCRIPT
In-Reply-To: <bug-304-4@http.www.slony.info/bugzilla/>
References: <bug-304-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017131227.AFCE4291334@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=304

Steve Singer <ssinger at ca.afilias.info> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         Resolution|                            |FIXED
             Status|ASSIGNED                    |RESOLVED

--- Comment #10 from Steve Singer <ssinger at ca.afilias.info> 2013-10-17 06:12:28 PDT ---
This changes were included in 2.2.0 - resolving bug

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 06:15:27 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 06:15:27 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 299] moveset can cause a subscriber to pull data
 it has already seen
In-Reply-To: <bug-299-4@http.www.slony.info/bugzilla/>
References: <bug-299-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017131527.CFA41291334@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=299

Steve Singer <ssinger at ca.afilias.info> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         Resolution|                            |FIXED
             Status|NEW                         |RESOLVED

--- Comment #6 from Steve Singer <ssinger at ca.afilias.info> 2013-10-17 06:15:28 PDT ---
This was included in 2.1.4  (and 2.2.0).

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 06:16:47 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 06:16:47 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 292] sl_log_1 & sl_log_2 table not cleaning
In-Reply-To: <bug-292-4@http.www.slony.info/bugzilla/>
References: <bug-292-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017131647.08E71291334@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=292

Steve Singer <ssinger at ca.afilias.info> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         Resolution|                            |INVALID
             Status|NEW                         |RESOLVED

--- Comment #6 from Steve Singer <ssinger at ca.afilias.info> 2013-10-17 06:16:47 PDT ---
I am marking this as resolved since this is more of a question than a bug
report.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 09:24:06 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 09:24:06 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] constant provider disconnects & reconnects
In-Reply-To: <bug-321-4@http.www.slony.info/bugzilla/>
References: <bug-321-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017162406.81FFD291335@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
         AssignedTo|slony1-bugs at lists.slony.inf |janwieck at yahoo.com
                   |o                           |
             Status|NEW                         |ASSIGNED

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 13:36:34 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 13:36:34 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 322] New: clone prepare can fail to replicate
Message-ID: <bug-322-4@http.www.slony.info/bugzilla/>

http://www.slony.info/bugzilla/show_bug.cgi?id=322

           Summary: clone prepare can fail to replicate
           Product: Slony-I
           Version: devel
          Platform: PC
        OS/Version: Linux
            Status: NEW
          Severity: enhancement
          Priority: low
         Component: stored procedures
        AssignedTo: slony1-bugs at lists.slony.info
        ReportedBy: ssinger at ca.afilias.info
                CC: slony1-bugs at lists.slony.info
   Estimated Hours: 0.0


This issue has been periodically observed with the disorder CLONE NODE test.

slon3  can encounter the following in its slon log
-----------

remoteWorkerThread_5: SYNC 5000000002 done in 0.000 seconds
remoteWorkerThread_2: SYNC 5000000002 done in 0.001 seconds
storeNode: no_id=6 no_comment='Node 6'
remoteWorkerThread_2 error querying last confirmed id for node 6 in CLONE NODE
- ERROR:  duplicate key value violates unique constraint "sl_node-pkey"


What appears to be happening is that slon 3 sees the STORE NODE between node 6
and some other node BEFORE it sees the CLONE NODE that creates node 6.

sl_node has a entry for no_id=6 with <event pending> and the
cloneNodePrepare_int() fails because of that.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 13:55:16 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 13:55:16 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] constant provider disconnects & reconnects
In-Reply-To: <bug-321-4@http.www.slony.info/bugzilla/>
References: <bug-321-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017205516.57A352912F6@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
                URL|                            |https://github.com/wieck/sl
                   |                            |ony1-engine/commit/502735b1
                   |                            |722a2d57ce608b1a5925aeb949d
                   |                            |6687d

--- Comment #1 from Jan Wieck <janwieck at yahoo.com> 2013-10-17 13:55:16 PDT ---
Proposed fix.
https://github.com/wieck/slony1-engine/commit/502735b1722a2d57ce608b1a5925aeb949d6687d

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 13:55:42 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 13:55:42 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] constant provider disconnects & reconnects
In-Reply-To: <bug-321-4@http.www.slony.info/bugzilla/>
References: <bug-321-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017205542.3C6122912F8@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

--- Comment #2 from Jan Wieck <janwieck at yahoo.com> 2013-10-17 13:55:42 PDT ---
Created an attachment (id=188)
 --> (http://www.slony.info/bugzilla/attachment.cgi?id=188)
Proposed fix

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 14:25:33 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 14:25:33 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 322] clone prepare can fail to replicate
In-Reply-To: <bug-322-4@http.www.slony.info/bugzilla/>
References: <bug-322-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017212533.5A73D2912F8@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=322

--- Comment #1 from Steve Singer <ssinger at ca.afilias.info> 2013-10-17 14:25:33 PDT ---
Created an attachment (id=189)
 --> (http://www.slony.info/bugzilla/attachment.cgi?id=189)
proposed fix

A proposed fix so the row in sl_node (or sl_path) isn't duplicated during
a CLONE PREPARE

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 14:31:04 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 14:31:04 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 322] clone prepare can fail to replicate
In-Reply-To: <bug-322-4@http.www.slony.info/bugzilla/>
References: <bug-322-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017213104.4B3682912F8@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=322

--- Comment #2 from Steve Singer <ssinger at ca.afilias.info> 2013-10-17 14:31:04 PDT ---
https://github.com/ssinger/slony1-engine/commit/e17e1ef68c20c8704d59aa9122079e92d8ab6af1

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.
You are the assignee for the bug.

From bugzilla-daemon at main.slony.info  Thu Oct 17 15:05:13 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Thu, 17 Oct 2013 15:05:13 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] constant provider disconnects & reconnects
In-Reply-To: <bug-321-4@http.www.slony.info/bugzilla/>
References: <bug-321-4@http.www.slony.info/bugzilla/>
Message-ID: <20131017220513.B28792912F6@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

Jan Wieck <janwieck at yahoo.com> changed:

           What    |Removed                     |Added
----------------------------------------------------------------------------
           Priority|low                         |medium
           Severity|enhancement                 |normal
         OS/Version|Linux                       |All
           Platform|PC                          |All

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Fri Oct 18 10:27:46 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Fri, 18 Oct 2013 10:27:46 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] constant provider disconnects & reconnects
In-Reply-To: <bug-321-4@http.www.slony.info/bugzilla/>
References: <bug-321-4@http.www.slony.info/bugzilla/>
Message-ID: <20131018172746.31695291339@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

--- Comment #3 from Steve Singer <ssinger at ca.afilias.info> 2013-10-18 10:27:46 PDT ---
I *THINK* this change is breaking the Failover unit test.

I am occasionally getting a failure in the last part of the failover test where
db4 is missing data.  It appears to be receiving a SYNC event from 1 (the
failed node) via a event provider that isn't in the provider list.  It then
ignores the SYNC (marks it as confirmed without actually pulling data for that
SYNC).

This happens maybe once every 4-6 times I run through the failover node, on the
last test (the one designed to detect bug 318).

I have not yet confirmed that this problem is caused by this patch, I still
have to run the test more times without 321 applied to build confidence in
this.

I did however replace the adjust_provider call this patch removes with a 
slon_log(SLON_WARN, ".... event provider %d is not in the provider list")

and I am getting messages like 
 WARN   remoteWorkerThread_1: event provider 5 is not in the provider list

when processing SYNC's from the failed node on db4.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Fri Oct 18 11:27:19 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Fri, 18 Oct 2013 11:27:19 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] constant provider disconnects & reconnects
In-Reply-To: <bug-321-4@http.www.slony.info/bugzilla/>
References: <bug-321-4@http.www.slony.info/bugzilla/>
Message-ID: <20131018182719.07632291329@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

--- Comment #4 from Jan Wieck <janwieck at yahoo.com> 2013-10-18 11:27:19 PDT ---
Maybe we should add the event provider in case the whole provider list is
empty?

But then again, is it possible that in such a case, the event provider doesn't
forward the set in question?

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Fri Oct 18 11:32:56 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Fri, 18 Oct 2013 11:32:56 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] constant provider disconnects & reconnects
In-Reply-To: <bug-321-4@http.www.slony.info/bugzilla/>
References: <bug-321-4@http.www.slony.info/bugzilla/>
Message-ID: <20131018183256.53B5A291329@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

--- Comment #5 from Steve Singer <ssinger at ca.afilias.info> 2013-10-18 11:32:56 PDT ---
Is the real  problem that the provider list is empty?
Shouldn't node 2  (the most-ahead temp origin) be in the provider list?

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Fri Oct 18 12:04:15 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Fri, 18 Oct 2013 12:04:15 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] constant provider disconnects & reconnects
In-Reply-To: <bug-321-4@http.www.slony.info/bugzilla/>
References: <bug-321-4@http.www.slony.info/bugzilla/>
Message-ID: <20131018190415.C5C7D2912E9@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

--- Comment #6 from Steve Singer <ssinger at ca.afilias.info> 2013-10-18 12:04:16 PDT ---
What I think is going on is this:

The Failover.js test has the following:

   this.moveSet(1,2,1);
    //stop slon 4
    this.coordinator.log('starting bug 318 test');
    this.slonArray[3].stop();
    this.coordinator.join(this.slonArray[3]);
    load2 = this.generateLoad();
    this.coordinator.log('stopping load');
    java.lang.Thread.sleep(3*30*1000);
    load2.stop();
    this.slonArray[3] = this.coordinator.createSlonLauncher('db4');
                this.slonArray[3].run();    
    this.failNode(1,3,true);

We get setup for the test by configuring node 1 as the master,  then we stop
the slon on 4 and generate a backlog.

When we startup slon 4 again, we see the following in the slon 4 log AFTER
slonik
has issued the FAILOVER command (but before it completes)

remoteListenThread_5: queue event 1,5000000005 SYNC
remoteListenThread_5: queue event 1,5000000006 ACCEPT_SET
 remoteListenThread_5: queue event 1,5000000007 SYNC
.
.
.



Basically  slon 4 has not yet seen the ACCEPT_SET from 1, so it has a listen
network that is out of date.    The remote listener queues up the SYNC events
of 1 from provider 5.   When node 1 becomes the origin these events are still
in the queue.  The remoteWorkerThread starts to then process 1,5000000007 where
the event provider is 5 but that isn't in the provider list.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Fri Oct 18 12:31:17 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Fri, 18 Oct 2013 12:31:17 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] constant provider disconnects & reconnects
In-Reply-To: <bug-321-4@http.www.slony.info/bugzilla/>
References: <bug-321-4@http.www.slony.info/bugzilla/>
Message-ID: <20131018193118.06FCD291319@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

--- Comment #7 from Steve Singer <ssinger at ca.afilias.info> 2013-10-18 12:31:18 PDT ---
Note Bug 273 is related to this discussion

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

From bugzilla-daemon at main.slony.info  Wed Oct 23 08:18:13 2013
From: bugzilla-daemon at main.slony.info (bugzilla-daemon at main.slony.info)
Date: Wed, 23 Oct 2013 08:18:13 -0700 (PDT)
Subject: [Slony1-bugs] [Bug 321] constant provider disconnects & reconnects
In-Reply-To: <bug-321-4@http.www.slony.info/bugzilla/>
References: <bug-321-4@http.www.slony.info/bugzilla/>
Message-ID: <20131023151813.CCAF629122E@main.slony.info>

http://www.slony.info/bugzilla/show_bug.cgi?id=321

--- Comment #8 from Steve Singer <ssinger at ca.afilias.info> 2013-10-23 08:18:14 PDT ---
Created an attachment (id=190)
 --> (http://www.slony.info/bugzilla/attachment.cgi?id=190)
Addtional patch to detect when an expected provider is missing

This patch should be applied on top of the other patch.

If the event provider isn't in the provider list and the node is a set origin
for a subscribed set then we don't want to proceed with processing the SYNC
with no provider.  It might be that a remoteListener pulled this event from the
event provider before any subscriptions were active.

-- 
Configure bugmail: http://www.slony.info/bugzilla/userprefs.cgi?tab=email
------- You are receiving this mail because: -------
You are on the CC list for the bug.

