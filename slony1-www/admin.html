<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <meta name="generator" content=
  "HTML Tidy for Linux/x86 (vers 1 September 2005), see www.w3.org">

  <title>Project Admin Area</title>
<style type="text/css">
a:link{
  font-family:lucida,arial,helvetica; font-size: 11px; font-style:normal; font-weight:bold; color:#003399; text-decoration:none;
}
a:visited{
  font-family:lucida,arial,helvetica; font-size: 11px; font-style:normal; font-weight:bold; color:#003399; text-decoration:none;
}
a:hover{
  color:"red"; text-decoration:underline;
}
.text TD {
  font-family:lucida,arial,helvetica; font-size: 11px; font-style:normal;
}
.footerText TD {
  font-family:lucida,arial,helvetica; font-size: 11px; font-style:normal; color:#FFFFFF;
}
</style>
</head>

<body>
  <table border="0" cellpadding="2" cellspacing="0" width="100%">
    <tbody>
      <tr>
        <td>
          <table border="0">
            <tbody>
              <tr>
                <td align="left" valign="top"><img src=
                "images/Slon_450x320.jpg" align="left"></td>

                <td align="left" valign="top"></td>
              </tr>
            </tbody>
          </table>

          <table border="0" cellpadding="2" cellspacing="0" width=
          "100%">
            <!-- if proj id not empty display proj nav -->

            <tbody>
              <tr bgcolor="#000000">
                <td colspan="2"><img src="images/shim.gif" height=
                "1" width="1"></td>

                <td><img src="images/shim.gif" height="1" width=
                "1"></td>
              </tr>

              <tr bgcolor="#EEEEEE">
                <td nowrap="nowrap"><img src="images/shim.gif"
                height="1" width="1"><b><a class="adminNav" href=
                "admin.html">Project Admin Area</a></b></td>

                <td align="right" nowrap="nowrap" width="100%">
                <b><a class="projNav" href=
                "http://main.slony.info">slony1 Home</a> |
                <a class="projNav" href=
                "http://slony.info/">Slony-I Website</a> |
                <a class="projNav" href="git.html">Git Info</a>
                | <a class="projNav" href=
                "http://lists.slony.info/mailman/listinfo">Mailing
                Lists</a>
			    <a class="projNav" href="bug-processing.html">Bug Policy</a>
                </b></td>

                <td><img src="images/shim.gif" height="1" width=
                "1"></td>
              </tr>

              <tr bgcolor="#000000">
                <td colspan="2"><img src="images/shim.gif" height=
                "1" width="1"></td>

                <td><img src="images/shim.gif" height="1" width=
                "1"></td>
              </tr>
            </tbody>
          </table>

          <h1>Project Admin Area</h1>

          <p>Heh. Doesn't much exist yet...</p>

          <h1>Web Site and CVS</h1>

          <p>The Slony-I web site physically resides at path
          <tt>/home/community/slony/htdocs</tt> , and is an
          anonymous checkout of the <tt>slony1-www</tt> <a href=
          "cvs.html">CVS repository.</a></p>

          <p>As a result, if you make changes directly, you'll want
          to do a <tt>cvs diff</tt> to extract those changes, and
          apply them to some not-so-anonymous copy of CVS that you
          have access to. Then please commit such changes to CVS
          and see about doing a <tt>cvs update</tt> in the
          <tt>htdocs</tt> directory to deploy those changes "to
          production."</p>
          <hr>

	  <p> Please add downloads to CVS so that checkouts of CVS of
	  the web site include a backup of this.</p>

	    <p> Some time in the not too distant future we are likely
	    to migrate this to Git, but it's not particularly
	    urgent.</p>

          <h1>Backups</h1>

          <p>Both <tt>rsync</tt> and <tt>unison</tt> are installed;
          either may be used to backup important parts of the web
          site.</p>

          <p>Here are the contents of a set of Unison <tt>.prf</tt>
          files suitable for backing up CVS, mailing lists, and the
          local web site contents.</p>

          <ol>
            <li>Unison configuration - <tt>cmdcvs.prf</tt>
              <pre>
root = /home/cbbrowne/Slony-I/CMD/cvsbackup
root = ssh://cvs.slony.info//home/cvsd/slony1
</pre>
            </li>

            <li>Unison configuration -
            <tt>cmdmailman-admin.prf</tt>
              <pre>
root = /home/cbbrowne/Slony-I/CMD/mailman-backup/admin
root = ssh://cvs.slony.info//var/lib/mailman/archives/private/slony-admin

</pre>
            </li>

            <li>Unison configuration - <tt>cmdmailman-bugs.prf</tt>
              <pre>
root = /home/cbbrowne/Slony-I/CMD/mailman-backup/bugs
root = ssh://cvs.slony.info//var/lib/mailman/archives/private/slony-bugs

</pre>
            </li>

            <li>Unison configuration -
            <tt>cmdmailman-commit.prf</tt>
              <pre>
root = /home/cbbrowne/Slony-I/CMD/mailman-backup/commit
root = ssh://cvs.slony.info//var/lib/mailman/archives/private/slony-commit

</pre>
            </li>

            <li>Unison configuration -
            <tt>cmdmailman-general.prf</tt>
              <pre>
root = /home/cbbrowne/Slony-I/CMD/mailman-backup/general
root = ssh://cvs.slony.info//var/lib/mailman/archives/private/slony-general

</pre>
            </li>

            <li>Unison configuration -
            <tt>cmdmailman-hackers.prf</tt>
              <pre>
root = /home/cbbrowne/Slony-I/CMD/mailman-backup/hackers
root = ssh://cvs.slony.info//var/lib/mailman/archives/private/slony-hackers

</pre>
            </li>

            <li>Unison configuration -
            <tt>cmdmailman-patches.prf</tt>
              <pre>
root = /home/cbbrowne/Slony-I/CMD/mailman-backup/patches
root = ssh://cvs.slony.info//var/lib/mailman/archives/private/slony-patches

</pre>
            </li>

            <li>Unison configuration - <tt>cmdweb.prf</tt>
              <pre>
root = /home/cbbrowne/Slony-I/CMD/webbackup
root = ssh://cvs.slony.info//home/community/slony
</pre>
            </li>
          </ol>

          <h2>Usage</h2>

          <p>If you are using Unison, you might write the above
          files into your local <tt>${HOME}/.unison</tt> directory,
          and then use them as follows:</p>
          <pre>
cd ${HOME}.unison
for target in `ls cmd*prf | cut -d "." -f 1`; do
   unison ${target}
done
</pre>

          <p>By default, this will request user intervention to
          indicate the direction in which to propagate updates; if
          you know what you're doing, you can tell
          <tt>unison</tt>to "just do it."</p>

          <h2>Other Environmental Stuff</h2>

          <p>Those with login access, please add the entry:</p>
          <pre>
umask 0002
</pre>

          <p>to your <tt>.profile</tt> / <tt>.bashrc</tt> file.
          That way, <i>group write</i> is permitted, by default.
          It's very annoying, particularly in the web site area, if
          one person checks out CVS with <tt>umask 0022</tt>,
          thereby forbidding anyone else from updating any files
          that they newly add.</p>

          <h1>Editing the Web Site</h1>

          <p>Niels Breet has set things up where there is a pair of
          central PHP scripts, <tt>index.php</tt>, and
          <tt>layout.php</tt>, which control rendering of the site.
          By doing things this way, each page on the site can have a
          common layout complete with common
          header/footer/graphics.</p>

          <p>Web site <i>content</i> resides in the
          <tt>content</tt> directory as a set of <tt>.txt</tt>
          files.</p>

          <p>These pages consist of some lightly formatted
          material:</p>

          <ul>
            <li>There is a "title" on the first line;</li>

            <li>There is a URL for that title on the second line;
	    </li>

            <li>Following that is a set of HTML text that
            will be rendered as the body of the web page</li>
          </ul>

          <p>There are also some pages that consist of
          lightly-formatted news material, such as
          <tt>news.txt</tt>. This file consists of a set of news
          items, formatted thus:</p>

          <ul>
            <li>A line consisting of "---"</li>

            <li>A title for the item</li>

            <li>A URL for that title to point at (<i>e.g.</i> - if
            you click on the title, you head to the URL)</li>

            <li>A possibly-multi-line chunk of HTML to describe the
            piece of news.</li>

            <li>A line consisting of "---"</li>
          </ul>

          <address>
            <a href="mailto:cbbrowne@ca.afilias.info">Christopher
            Browne</a>
          </address><!-- Created: Thu Jan 25 11:38:58 EST 2007 -->
          <!-- hhmts start -->
Last modified: Fri Aug 13 18:09:38 EDT 2010
<!-- hhmts end -->
        </td>
      </tr>
    </tbody>
  </table>
</body>
</html>
