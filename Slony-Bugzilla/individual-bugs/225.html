<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <title>Bug 225 &ndash; checking PostgreSQL for thread-safety... configure: error: PQisthreadsafe test failed - PostgreSQL needs to be compiled with --enable-thread-safety</title>


<link rel="Top" href="http://www.slony.info/bugzilla/">

  

  


  
    <link rel="Show" title="Dependency Tree"
          href="showdependencytree.cgi?id=225&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="showdependencygraph.cgi?id=225">


      <link rel="Show" title="Bug Activity"
            href="show_activity.cgi?id=225">
      <link rel="Show" title="Printer-Friendly Version"
            href="show_bug.cgi?format=multiple&amp;id=225">


    

    
      <link href="skins/standard/global.css"
            rel="stylesheet"
            type="text/css">
      <link href="skins/standard/yui/calendar.css"
            rel="stylesheet"
            type="text/css">
      <link href="skins/standard/show_bug.css"
            rel="stylesheet"
            type="text/css">
    <!--[if lte IE 7]>
      
      <link href="skins/standard/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    
        <link href="skins/standard/global.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
        <link href="skins/standard/yui/calendar.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
        <link href="skins/standard/show_bug.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <!--[if lte IE 7]>
      
        <link href="skins/standard/IE-fixes.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <![endif]-->

    
        
            <link href="skins/contrib/Dusk/global.css"
                  rel="alternate stylesheet"
                  title="Dusk"
                  type="text/css">
            <link href="skins/contrib/Dusk/yui/calendar.css"
                  rel="alternate stylesheet"
                  title="Dusk"
                  type="text/css">
            <link href="skins/contrib/Dusk/show_bug.css"
                  rel="alternate stylesheet"
                  title="Dusk"
                  type="text/css">
        <!--[if lte IE 7]>
          
          <link href="skins/contrib/Dusk/IE-fixes.css"
                rel="alternate stylesheet"
                title="Dusk"
                type="text/css">
        <![endif]-->

    

    
        <link href="skins/custom/global.css" rel="stylesheet" type="text/css">
        <link href="skins/custom/yui/calendar.css" rel="stylesheet" type="text/css">
        <link href="skins/custom/show_bug.css" rel="stylesheet" type="text/css">
    <!--[if lte IE 7]>
      
      <link href="skins/custom/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    <script src="js/yui/yahoo-dom-event.js" type="text/javascript"></script>
    <script src="js/global.js" type="text/javascript"></script>
    <script type="text/javascript">
    <!--
        YAHOO.namespace('bugzilla');
        if (YAHOO.env.ua.gecko) {
            YAHOO.util.Event._simpleRemove(window, "unload", 
                                           YAHOO.util.Event._unload);
        }
        
        var BUGZILLA = {
            param: {
                cookiepath: '\/'
            }
        };
    // -->
    </script>

        <script src="js/util.js" type="text/javascript"></script>
        <script src="js/field.js" type="text/javascript"></script>
        <script src="js/yui/calendar.js" type="text/javascript"></script>

    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla" href="./search_plugin.cgi">
    <link rel="shortcut icon" href="images/favicon.ico" >
  </head>



  <body onload=""
        class="www-slony-info-bugzilla bz_bug bz_status_RESOLVED bz_product_Slony-I bz_component_website bz_bug_225">



<div id="header">
<div id="banner">
  </div>

<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla &ndash; Bug&nbsp;225</p>
    </td>

    <td id="subtitle">
      <p class="subheader">checking PostgreSQL for thread-safety... configure: error: PQisthreadsafe test failed - PostgreSQL needs to be compiled with --enable-thread-safety</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2011-07-19 10:47:14 PDT</p>
    </td>
</tr>
</table>
<ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" id="quicksearch_top" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_top"></form></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li></li>


  <li>
        <span class="separator">| </span>
        <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
      </li>
    
      <li id="new_account_container_top">
        <span class="separator">| </span>
        <a href="createaccount.cgi">New&nbsp;Account</a>
      </li>

    <li id="mini_login_container_top">
  <span class="separator">| </span>
  <a id="login_link_top" href="?GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_top')">Log In</a>
  <form action="http://www.slony.info/bugzilla/show_bug.cgi?id=225" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login_top"
        onsubmit="return check_mini_login_fields( '_top' );"
  >
    <input id="Bugzilla_login_top" 
           class="bz_login"
           name="Bugzilla_login"
           onfocus="mini_login_on_focus('_top')"
    >
    <input class="bz_password" 
           id="Bugzilla_password_top" 
           name="Bugzilla_password"
           type="password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_top" value="password"
           onfocus="mini_login_on_focus('_top')"
    >
    <input type="submit" name="GoAheadAndLogIn" value="Log in" 
            id="log_in_top">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_top');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_top');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('_top')">[x]</a>
  </form>
</li>
<li id="forgot_container_top">
  <span class="separator">| </span>
  <a id="forgot_link_top" href="?GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('_top')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form_top"
        class="mini_forgot bz_default_hidden">
    <label>Login: <input type="text" name="loginname" size="20"></label>
    <input id="forgot_button_top" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <a href="#" onclick="return hide_forgot_form('_top')">[x]</a>
  </form>
</li>
</ul>

</div>

<div id="bugzilla-body">

<div class="navigation">
  
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>
</div>
<script type="text/javascript">
  <!--
  
  /* Outputs a link to call replyToComment(); used to reduce HTML output */
  function addReplyLink(id, real_id) {
      /* XXX this should really be updated to use the DOM Core's
       * createElement, but finding a container isn't trivial.
       */
        document.write('[<a href="#add_comment" onclick="replyToComment(' + 
                       id + ',' + real_id + ');">reply<' + '/a>]');
  }

  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id, real_id) {
      var prefix = "(In reply to comment #" + id + ")\n";
      var replytext = "";
        /* pre id="comment_name_N" */
        var text_elem = document.getElementById('comment_text_'+id);
        var text = getText(text_elem);

        /* make sure we split on all newlines -- IE or Moz use \r and \n
         * respectively.
         */
        text = text.split(/\r|\n/);

        for (var i=0; i < text.length; i++) {
            replytext += "> " + text[i] + "\n"; 
        }

        replytext = prefix + replytext + "\n";


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      textarea.value += replytext;

      textarea.focus();
  }

  if (typeof Node == 'undefined') {
      /* MSIE doesn't define Node, so provide a compatibility object */
      window.Node = {
          TEXT_NODE: 3,
          ENTITY_REFERENCE_NODE: 5
      };
  }

  /* Concatenates all text from element's childNodes. This is used
   * instead of innerHTML because we want the actual text (and
   * innerText is non-standard).
   */
  function getText(element) {
      var child, text = "";
      for (var i=0; i < element.childNodes.length; i++) {
          child = element.childNodes[i];
          var type = child.nodeType;
          if (type == Node.TEXT_NODE || type == Node.ENTITY_REFERENCE_NODE) {
              text += child.nodeValue;
          } else {
              /* recurse into nodes of other types */
              text += getText(child);
          }
      }
      return text;
  }


  //-->
  </script>

<form name="changeform" method="post" action="process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2011-07-19 10:47:14">
  <input type="hidden" name="longdesclength" value="6">
  <input type="hidden" name="id" value="225">
  <input type="hidden" name="token" value="1483479638-12b1c474e1e9e3b64a14ff78f1995d1d">
<div class="bz_alias_short_desc_container edit_form">
     <a href="show_bug.cgi?id=225">
        <b>Bug&nbsp;225</b></a> - 
     <span id="summary_alias_container" class="bz_default_hidden"> 
      <span id="short_desc_nonedit_display">checking PostgreSQL for thread-safety... configure: error: PQisthreadsafe test failed - PostgreSQL needs to be compiled with --enable-thread-safety</span>
     </span>
  
       
    <div id="summary_alias_input">
      <table id="summary">  
        
        <tr>
          <td>
            <label accesskey="s" for="short_desc"><u>S</u>ummary</label>:
          </td>
          <td><span title="checking PostgreSQL for thread-safety... configure: error: PQisthreadsafe test failed - PostgreSQL needs to be compiled with --enable-thread-safety">checking PostgreSQL for thread-safety... configure: error: PQisthreadsafe tes...
        </span>
          </td>
        </tr>
      </table>
    </div>
  </div>
  <script type="text/javascript">
    hideAliasAndSummary('checking PostgreSQL for thread-safety... configure: error: PQisthreadsafe test failed - PostgreSQL needs to be compiled with --enable-thread-safety', '');
  </script>
  <table class="edit_form">
    <tr>
      
      <td id="bz_show_bug_column_1" class="bz_show_bug_column">     
        <table>
          <tr>
    <td class="field_label">
      <b><a href="page.cgi?id=fields.html#status">Status</a></b>:
    </td>
    <td id="bz_field_status">
      <span id="static_bug_status">RESOLVED
          INVALID
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr>
<th class="field_label "
      id="field_label_product">
        <a href="describecomponents.cgi">Product:</a>
  </th>

<td class="field_value "
    id="field_container_product" >Slony-I</td>
    </tr>
        
    
    
    <tr>
      <td class="field_label">
        <label for="component" accesskey="m">
          <b><a href="describecomponents.cgi?product=Slony-I">
            Co<u>m</u>ponent</a>:
          </b>
        </label>
      </td><td>website
  </td>
    </tr>
    <tr>
      <td class="field_label">
        <label for="version"><b>Version</b></label>:
      </td>
<td>2.0
  </td>
    </tr>
        
    
        
    <tr>
      <td class="field_label">
        <label for="rep_platform" accesskey="h"><b>Platform</b></label>:
      </td>
      <td class="field_value">Other
       Linux
       <script type="text/javascript">
         assignToDefaultOnChange(['product', 'component']);
       </script>
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr>
      <td class="field_label">
        <label for="priority" accesskey="i">
          <b><a href="page.cgi?id=fields.html#importance"><u>I</u>mportance</a></b></label>:
      </td>
      <td>low
       critical
      </td>
    </tr>            
          
          <tr>
      <td class="field_label">
        <b><a href="page.cgi?id=fields.html#assigned_to">Assigned To</a></b>:
      </td>
      <td><span class="vcard"><span class="fn">Slony Bugs List</span>
</span>
      </td>
    </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          <tr>
    <td class="field_label">
      <label for="bug_file_loc" accesskey="u"><b>
          <u>U</u>RL</b></label>:
    </td>
    <td>
      <span id="bz_url_input_area">
          <a href=""></a>
      </span>
    </td>
  </tr>
          <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
          
          <tr><th class="field_label">
    <label for="dependson">Depends&nbsp;on</label>:
  </th>
  <td>    
    <span id="dependson_input_area">
    </span>
    
  </td>
  </tr>
  
  <tr><th class="field_label">
    <label for="blocked" accesskey="b"><u>B</u>locks</label>:
  </th>
  <td>    
    <span id="blocked_input_area">
    </span>
    
  </td>
  
  <tr>
    <th>&nbsp;</th>
  
    <td colspan="2" align="left" id="show_dependency_tree_or_graph">
      Show dependency <a href="showdependencytree.cgi?id=225&amp;hide_resolved=1">tree</a>
  
        /&nbsp;<a href="showdependencygraph.cgi?id=225">graph</a>
    </td>
  </tr>
          
        </table>
      </td>
      <td>
        <div class="bz_column_spacer">&nbsp;</div>
      </td>
      
      <td id="bz_show_bug_column_2" class="bz_show_bug_column">
        <table cellpadding="3" cellspacing="1">
        <tr>
    <td class="field_label">
      <b>Reported</b>:
    </td>
    <td>2011-07-19 07:15 PDT by <span class="vcard">douganla
</span>
    </td>
  </tr>
  
  <tr>
    <td class="field_label">
      <b> Modified</b>:
    </td>
    <td>2011-07-19 10:47 PDT 
      (<a href="show_activity.cgi?id=225">History</a>)
    </td>
  
  </tr>
         <tr>
      <td class="field_label">
        <label for="newcc" accesskey="a"><b>CC List</b>:</label>
      </td>
      <td>1 
          user
        <span id="cc_edit_area_showhide_container" class="bz_default_hidden">
          (<a href="#" id="cc_edit_area_showhide">show</a>)
        </span>
        <div id="cc_edit_area">
          <br>
            <select id="cc" name="cc" multiple="multiple" size="5">
                <option value="slony1-bugs">slony1-bugs</option>
            </select>
        </div>
        <script type="text/javascript">
          hideEditableField( 'cc_edit_area_showhide_container', 
                             'cc_edit_area', 
                             'cc_edit_area_showhide', 
                             '', 
                             '');  
        </script>
      </td>
    </tr>
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
<tr><th class="field_label "
      id="field_label_see_also">
        <a href="page.cgi?id=fields.html#see_also">See Also:</a>
  </th>

<td class="field_value "
    id="field_container_see_also" ></td>
    </tr> 
         
         <tr>
    <td colspan="2" class="bz_section_spacer"></td>
  </tr>
         
                

        </table>
      </td>
    </tr>
    <tr>
      <td colspan="3">
          <hr id="bz_top_half_spacer">
      </td>
    </tr>
  </table>

  
  


<script type="text/javascript">
<!--
function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    // Store current height for scrolling later
    var originalHeight = table.offsetHeight;
    var rows = YAHOO.util.Dom.getElementsByClassName(
        'bz_tr_obsolete', 'tr', table);

    for (var i = 0; i < rows.length; i++) {
        bz_toggleClass(rows[i], 'bz_default_hidden');
    }

    if (YAHOO.util.Dom.hasClass(rows[0], 'bz_default_hidden')) {
        link.innerHTML = "Show Obsolete";
    }
    else {
        link.innerHTML = "Hide Obsolete";
    }

    var newHeight = table.offsetHeight;
    // This scrolling makes the window appear to not move at all.
    window.scrollBy(0, newHeight - originalHeight);

    return false;
}
//-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr>
    <th colspan="2" align="left">
      <a name="a0" id="a0">Attachments</a>
    </th>
  </tr>



  <tr class="bz_attach_footer">
    <td colspan="2">
      <a href="attachment.cgi?bugid=225&amp;action=enter">Add an attachment</a>
      (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>




  <br>
  <table cellpadding="1" cellspacing="1">
    <tr>
      <td id="comment_status_commit">
        <!-- The table keeps the commit button aligned with the box. -->
        <a name="add_comment"></a>
          <fieldset>
            <legend>Note</legend>
            <p>
              You need to
              <a href="show_bug.cgi?id=225&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </p>
          </fieldset>
        
        <hr>
        <div id="comments"><script type="text/javascript">
  <!--
  function updateCommentPrivacy(checkbox, id) {
    var comment_elem = document.getElementById('comment_text_'+id).parentNode;
    if (checkbox.checked) {
      if (!comment_elem.className.match('bz_private')) {
        comment_elem.className = comment_elem.className.concat(' bz_private');
      }
    }
    else {
      comment_elem.className =
        comment_elem.className.replace(/(\s*|^)bz_private(\s*|$)/, '$2');
    }
  }

  /* The functions below expand and collapse comments  */

  function toggle_comment_display(link, comment_id) {
    var comment = document.getElementById('comment_text_' + comment_id);
    var re = new RegExp(/\bcollapsed\b/);
    if (comment.className.match(re))
        expand_comment(link, comment);
    else
        collapse_comment(link, comment);
  }

  function toggle_all_comments(action) {
    var num_comments = 6;

    // If for some given ID the comment doesn't exist, this doesn't mean
    // there are no more comments, but that the comment is private and
    // the user is not allowed to view it.

    for (var id = 0; id < num_comments; id++) {
        var comment = document.getElementById('comment_text_' + id);
        if (!comment)
            continue;

        var link = document.getElementById('comment_link_' + id);
        if (action == 'collapse')
            collapse_comment(link, comment);
        else
            expand_comment(link, comment);
    }
  }

  function collapse_comment(link, comment) {
    link.innerHTML = "[+]";
    link.title = "Expand the comment.";
    YAHOO.util.Dom.addClass(comment, 'collapsed');
  }

  function expand_comment(link, comment) {
    link.innerHTML = "[-]";
    link.title = "Collapse the comment";
    YAHOO.util.Dom.removeClass(comment, 'collapsed');
  }

  /* This way, we are sure that browsers which do not support JS
   * won't display this link  */

  function addCollapseLink(count) {
    document.write(' <a href="#" class="bz_collapse_comment"' +
                   ' id="comment_link_' + count +
                   '" onclick="toggle_comment_display(this, ' +  count +
                   '); return false;" title="Collapse the comment.">[-]<\/a> ');
  }
  //-->
  </script>








<div class="bz_comment bz_first_comment">

      <div class="bz_first_comment_head">



        <span class="bz_comment_number">
          <a name="c0" 
             href="show_bug.cgi?id=225#c0">Description</a>
        </span>

        <span class="bz_comment_user"><span class="vcard">douganla
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-19 07:15:54 PDT
        </span>
      </div>



<pre class="bz_comment_text" >After emerging [ebuild     U ] dev-db/slony1-2.0.6 [2.0.4] USE=&quot;perl&quot;
I am getting this error:checking PostgreSQL for thread-safety... configure:
error: PQisthreadsafe test failed - PostgreSQL needs to be compiled with
--enable-thread-safety

I tried compiling postgres with 
USE=&quot;enable-thread-safety&quot; emerge postgresql-server 
but it still gave me the same error when trying emerge slony. Any help with
this would be greatly appreciated.



Portage 2.1.9.42 (default/linux/x86/10.0, gcc-4.3.4, glibc-2.10.1-r1,
2.6.38-gentoo-r6 i686)
=================================================================
                        System Settings
=================================================================
System uname:
<a href="mailto:Linux-2.6.38-gentoo-r6-i686-Intel-R-_Xeon-R-_CPU_L5520_@_2.27GHz-with-gentoo-2.0.2">Linux-2.6.38-gentoo-r6-i686-Intel-R-_Xeon-R-_CPU_L5520_@_2.27GHz-with-gentoo-2.0.2</a>
Timestamp of tree: Mon, 27 Jun 2011 16:30:01 +0000
app-shells/bash:     4.1_p9
dev-lang/python:     2.6.6-r2, 3.1.3-r1
dev-util/pkgconfig:  0.25-r2
sys-apps/baselayout: 2.0.2
sys-apps/openrc:     0.8.2-r1
sys-apps/sandbox:    2.4
sys-devel/autoconf:  2.68
sys-devel/automake:  1.10.3, 1.11.1
sys-devel/binutils:  2.20.1-r1
sys-devel/gcc:       4.3.4, 4.4.5
sys-devel/gcc-config: 1.4.1-r1
sys-devel/libtool:   2.2.10
sys-devel/make:      3.82
sys-kernel/linux-headers: 2.6.36.1
sys-libs/glibc:      2.10.1-r1
virtual/os-headers:  0
ACCEPT_KEYWORDS=&quot;x86&quot;
ACCEPT_LICENSE=&quot;* -@EULA&quot;
CBUILD=&quot;i686-pc-linux-gnu&quot;
CFLAGS=&quot;-march=native -O2 -pipe&quot;
CHOST=&quot;i686-pc-linux-gnu&quot;
CONFIG_PROTECT=&quot;/etc /usr/share/gnupg/qualified.txt&quot;
CONFIG_PROTECT_MASK=&quot;/etc/ca-certificates.conf /etc/env.d /etc/gconf
/etc/gentoo-release /etc/php/apache2-php5.3/ext-active/
/etc/php/cgi-php5.3/ext-active/ /etc/php/cli-php5.3/ext-active/
/etc/revdep-rebuild /etc/sandbox.d /etc/terminfo&quot;
CXXFLAGS=&quot;-march=native -O2 -pipe&quot;
DISTDIR=&quot;/usr/portage/distfiles&quot;
FEATURES=&quot;assume-digests binpkg-logs distlocks fixlafiles fixpackages news
parallel-fetch protect-owned sandbox sfperms strict unknown-features-warn
unmerge-logs unmerge-orphans userfetch&quot;
FFLAGS=&quot;&quot;
GENTOO_MIRRORS=&quot;<a href="http://distfiles.gentoo.org">http://distfiles.gentoo.org</a>&quot;
LDFLAGS=&quot;-Wl,-O1 -Wl,--as-needed&quot;
PKGDIR=&quot;/usr/portage/packages&quot;
PORTAGE_CONFIGROOT=&quot;/&quot;
PORTAGE_RSYNC_OPTS=&quot;--recursive --links --safe-links --perms --times --compress
--force --whole-file --delete --stats --timeout=180 --exclude=/distfiles
--exclude=/local --exclude=/packages&quot;
PORTAGE_TMPDIR=&quot;/var/tmp&quot;
PORTDIR=&quot;/usr/portage&quot;
PORTDIR_OVERLAY=&quot;/usr/local/portage&quot;
SYNC=&quot;rsync://rsync.gentoo.org/gentoo-portage&quot;
USE=&quot;acl apache2 bzip2 cli cracklib cups cxx dri fortran gpm iconv modules
mudflap ncurses nls nptl nptlonly openmp pcre perl postgres pppd python
readline session ssl sysfs tcpd unicode x86 xorg&quot; ALSA_CARDS=&quot;ali5451 als4000
atiixp atiixp-modem bt87x ca0106 cmipci emu10k1 emu10k1x ens1370 ens1371 es1938
es1968 fm801 hda-intel intel8x0 intel8x0m maestro3 trident usb-audio via82xx
via82xx-modem ymfpci&quot; ALSA_PCM_PLUGINS=&quot;adpcm alaw asym copy dmix dshare dsnoop
empty extplug file hooks iec958 ioplug ladspa lfloat linear meter mmap_emul
mulaw multi null plug rate route share shm softvol&quot; APACHE2_MODULES=&quot;actions
alias auth_basic authn_alias authn_anon authn_dbm authn_default authn_file
authz_dbm authz_default authz_groupfile authz_host authz_owner authz_user
autoindex cache cgi cgid dav dav_fs dav_lock deflate dir disk_cache env expires
ext_filter file_cache filter headers include info log_config logio mem_cache
mime mime_magic negotiation rewrite setenvif speling status unique_id userdir
usertrack vhost_alias&quot; CALLIGRA_FEATURES=&quot;braindump flow karbon kexi kpresenter
krita tables words&quot; CAMERAS=&quot;ptp2&quot; COLLECTD_PLUGINS=&quot;df interface irq load
memory rrdtool swap syslog&quot; ELIBC=&quot;glibc&quot; GPSD_PROTOCOLS=&quot;ashtech aivdm
earthmate evermore fv18 garmin garmintxt gpsclock itrax mtk3301 nmea ntrip
navcom oceanserver oldstyle oncore rtcm104v2 rtcm104v3 sirf superstar2 timing
tsip tripmate tnt ubx&quot; INPUT_DEVICES=&quot;keyboard mouse evdev&quot; KERNEL=&quot;linux&quot;
LCD_DEVICES=&quot;bayrad cfontz cfontz633 glk hd44780 lb216 lcdm001 mtxorb ncurses
text&quot; PHP_TARGETS=&quot;php5-3&quot; RUBY_TARGETS=&quot;ruby18&quot; USERLAND=&quot;GNU&quot;
VIDEO_CARDS=&quot;fbdev glint intel mach64 mga neomagic nouveau nv r128 radeon
savage sis tdfx trident vesa via vmware dummy v4l&quot; XTABLES_ADDONS=&quot;quota2 psd
pknock lscan length2 ipv4options ipset ipp2p iface geoip fuzzy condition tee
tarpit sysrq steal rawnat logmark ipmark dhcpmac delude chaos account&quot;
Unset:  CPPFLAGS, CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL,
LINGUAS, MAKEOPTS, PORTAGE_BUNZIP2_COMMAND, PORTAGE_COMPRESS,
PORTAGE_COMPRESS_FLAGS, PORTAGE_RSYNC_EXTRA_OPTS


 * Package:    dev-db/slony1-2.0.6
 * Repository: gentoo
 * Maintainer: <a href="mailto:pgsql-bugs@gentoo.org">pgsql-bugs@gentoo.org</a>
 * USE:        elibc_glibc kernel_linux perl userland_GNU x86
 * FEATURES:   sandbox
<span class="quote">&gt;&gt;&gt; Unpacking source...
&gt;&gt;&gt; Unpacking slony1-2.0.6.tar.bz2 to /var/tmp/portage/dev-db/slony1-2.0.6/work
&gt;&gt;&gt; Source unpacked in /var/tmp/portage/dev-db/slony1-2.0.6/work
&gt;&gt;&gt; Compiling source in /var/tmp/portage/dev-db/slony1-2.0.6/work/slony1-2.0.6 ...</span >
 * econf: updating slony1-2.0.6/config/config.guess with
/usr/share/gnuconfig/config.guess
 * econf: updating slony1-2.0.6/config/config.sub with
/usr/share/gnuconfig/config.sub
./configure --prefix=/usr --build=i686-pc-linux-gnu --host=i686-pc-linux-gnu
--mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share
--sysconfdir=/etc --localstatedir=/var/lib
--with-pgincludedir=/usr/include/postgresql/pgsql
--with-pgincludeserverdir=/usr/include/postgresql/server --with-perltools
checking build system type... i686-pc-linux-gnu
checking host system type... i686-pc-linux-gnu
checking which template to use... linux
configure: using CFLAGS=-march=native -O2 -pipe
checking for i686-pc-linux-gnu-gcc... i686-pc-linux-gnu-gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether i686-pc-linux-gnu-gcc accepts -g... yes
checking for i686-pc-linux-gnu-gcc option to accept ISO C89... none needed
checking for ld used by GCC... /usr/i686-pc-linux-gnu/bin/ld
checking if the linker (/usr/i686-pc-linux-gnu/bin/ld) is GNU ld... yes
checking for perl... /usr/bin/perl
checking for tar... /bin/tar
checking for bison... bison -y
checking for sed... sed
checking for the pthreads library -lpthreads... no
checking whether pthreads work without any flags... no
checking whether pthreads work with -Kthread... no
checking whether pthreads work with -kthread... no
checking for the pthreads library -llthread... no
checking whether pthreads work with -pthread... yes
checking for joinable pthread attribute... PTHREAD_CREATE_JOINABLE
checking if more special flags are required for pthreads... no
checking for cc_r... i686-pc-linux-gnu-gcc
checking how to run the C preprocessor... i686-pc-linux-gnu-gcc -E
checking for grep that handles long lines and -e... /bin/grep
/var/tmp/portage/dev-db/slony1-2.0.6/temp/build.log lines 1-42/130 40%
checking for egrep... /bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking fcntl.h usability... yes
checking fcntl.h presence... yes
checking for fcntl.h... yes
checking limits.h usability... yes
checking limits.h presence... yes
checking for limits.h... yes
checking stddef.h usability... yes
checking stddef.h presence... yes
checking for stddef.h... yes
checking sys/socket.h usability... yes
checking sys/socket.h presence... yes
checking for sys/socket.h... yes
checking sys/time.h usability... yes
checking sys/time.h presence... yes
checking for sys/time.h... yes
checking for inttypes.h... (cached) yes
checking for gettimeofday... yes
checking for dup2... yes
checking for alarm... yes
checking for memset... yes
checking for select... yes
checking for strdup... yes
checking for strerror... yes
checking for strtol... yes
checking for strtoul... yes
checking for int32_t... yes
checking for uint32_t... yes
checking for u_int32_t... yes
checking for int64_t... yes
checking for uint64_t... yes
checking for u_int64_t... yes
checking for size_t... yes
checking for ssize_t... yes
checking for POSIX signal interface... yes
checking for flex... /usr/bin/flex
configure: using
checking if you have requested slony1-engine building... yes
./configure: line 4996: cd: /usr/include/postgresql/pgsql: No such file or
directory
overriding pgincludedir with
/var/tmp/portage/dev-db/slony1-2.0.6/work/slony1-2.0.6
overriding pgincludeserverdir with /usr/include/postgresql/server
checking for pg_config... /usr/bin/pg_config
pg_config says pg_bindir is /usr/lib/postgresql-9.0/bin/
pg_config says pg_libdir is /usr/lib/postgresql-9.0/lib/
pg_config says pg_pkglibdir is /usr/lib/postgresql-9.0/lib/
checking for correct version of PostgreSQL... pg_config says pg_sharedir is
/usr/share/postgresql-9.0/
checking for PQunescapeBytea in -lpq... yes
checking libpq-fe.h usability... yes
checking libpq-fe.h presence... yes
checking for libpq-fe.h... yes
checking postgres.h usability... yes
checking postgres.h presence... yes
checking for postgres.h... yes
checking for utils/typcache.h... yes
checking for plpgsql.so... yes
checking for postgresql.conf.sample... skipped due to override
checking for PQputCopyData in -lpq... yes
checking for PQsetNoticeReceiver in -lpq... yes
checking for PQfreemem in -lpq... yes
checking PostgreSQL for thread-safety... configure: error: PQisthreadsafe test
failed - PostgreSQL needs to be compiled with --enable-thread-safety

!!! Please attach the following file when seeking support:
!!! /var/tmp/portage/dev-db/slony1-2.0.6/work/slony1-2.0.6/config.log
 * ERROR: dev-db/slony1-2.0.6 failed (compile phase):
 *   econf failed
 *
 * Call stack:
 *     ebuild.sh, line   56:  Called src_compile
 *   environment, line 2125:  Called econf
'--with-pgincludedir=/usr/include/postgresql/pgsql'
'--with-pgincludeserverdir=/usr/include/postgresql/server' '--with-perltools'
 *     ebuild.sh, line  557:  Called die
 * The specific snippet of code:
 *                      die &quot;econf failed&quot;
 *
 * If you need support, post the output of 'emerge --info
=dev-db/slony1-2.0.6',
 * the complete build log and the output of 'emerge -pqv =dev-db/slony1-2.0.6'.
 * The complete build log is located at
'/var/tmp/portage/dev-db/slony1-2.0.6/temp/build.log'.</pre>
    </div>
  <div class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a name="c1" 
             href="show_bug.cgi?id=225#c1">Comment 1</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Steve Singer</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-19 07:56:34 PDT
        </span>
      </div>



<pre class="bz_comment_text" >If you look at the config.log file that is generated by the configure step of
your slony build you can determine which libpq is being picked up.   You need
to verify that this libpq really does have thread safety built in.

You might also want to include the output of pg_config to this report.

Another thing to try might be to build postgreql from the source tarball by
hand and put it in  /usr/local/pgsql and build slony against that version to
try and figure out if it is an issue with your gentoo postgresql-server
package.</pre>
    </div>
  <div class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a name="c2" 
             href="show_bug.cgi?id=225#c2">Comment 2</a>
        </span>

        <span class="bz_comment_user"><span class="vcard">douganla
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-19 08:46:22 PDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=225#c1">comment #1</a>)
<span class="quote">&gt; If you look at the config.log file that is generated by the configure step of
&gt; your slony build you can determine which libpq is being picked up.   You need
&gt; to verify that this libpq really does have thread safety built in.
&gt; You might also want to include the output of pg_config to this report.
&gt; Another thing to try might be to build postgreql from the source tarball by
&gt; hand and put it in  /usr/local/pgsql and build slony against that version to
&gt; try and figure out if it is an issue with your gentoo postgresql-server
&gt; package.</span >

I am new to this so any help would be great I did a grep on config.log and got
this:
# grep &quot;libpq&quot;
/var/tmp/portage/dev-db/slony1-2.0.6/work/slony1-2.0.6/config.log
configure:5235: checking libpq-fe.h usability
configure:5235: checking libpq-fe.h presence
configure:5235: checking for libpq-fe.h
| #include &quot;libpq-fe.h&quot;
ac_cv_header_libpq_fe_h=yes

# grep &quot;LIBPQ&quot;
/var/tmp/portage/dev-db/slony1-2.0.6/work/slony1-2.0.6/config.log
| #define PG_LIBPQ_VERIFIED 1
| #define PG_LIBPQSERVER_VERIFIED 1
#define PG_LIBPQ_VERIFIED 1
#define PG_LIBPQSERVER_VERIFIED 1

I also did a grep on enable-thread-safety but got nothing. How do I determine
if thread safety is built in?


This /usr/lib/postgresql-9.0/bin/pg_config. Is this the right file?

ELF Header:
  Magic:   7f 45 4c 46 01 01 01 00 00 00 00 00 00 00 00 00
  Class:                             ELF32
  Data:                              2's complement, little endian
  Version:                           1 (current)
  OS/ABI:                            UNIX - System V
  ABI Version:                       0
  Type:                              EXEC (Executable file)
  Machine:                           Intel 80386
  Version:                           0x1
  Entry point address:               0x8048d10
  Start of program headers:          52 (bytes into file)
  Start of section headers:          20840 (bytes into file)
  Flags:                             0x0
  Size of this header:               52 (bytes)
  Size of program headers:           32 (bytes)
  Number of program headers:         9
  Size of section headers:           40 (bytes)
  Number of section headers:         26
  Section header string table index: 25

Section Headers:
  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf
Al
  [ 0]                   NULL            00000000 000000 000000 00      0   0 
0
  [ 1] .interp           PROGBITS        08048154 000154 000013 00   A  0   0 
1
  [ 2] .note.ABI-tag     NOTE            08048168 000168 000020 00   A  0   0 
4
  [ 3] .hash             HASH            08048188 000188 0001ec 04   A  5   0 
4
  [ 4] .gnu.hash         GNU_HASH        08048374 000374 000040 04   A  5   0 
4
  [ 5] .dynsym           DYNSYM          080483b4 0003b4 0002c0 10   A  6   1 
4
  [ 6] .dynstr           STRTAB          08048674 000674 0001e8 00   A  0   0 
1
  [ 7] .gnu.version      VERSYM          0804885c 00085c 000058 02   A  5   0 
2
  [ 8] .gnu.version_r    VERNEED         080488b4 0008b4 000060 00   A  6   1 
4
  [ 9] .rel.dyn          REL             08048914 000914 000020 08   A  5   0 
4
  [10] .rel.plt          REL             08048934 000934 000138 08   A  5  12 
4
  [11] .init             PROGBITS        08048a6c 000a6c 000017 00  AX  0   0 
4
  [12] .plt              PROGBITS        08048a84 000a84 000280 04  AX  0   0 
4
  [13] .text             PROGBITS        08048d10 000d10 002334 00  AX  0   0
16
  [14] .fini             PROGBITS        0804b044 003044 00001c 00  AX  0   0 
4
  [15] .rodata           PROGBITS        0804b060 003060 00138c 00   A  0   0
32
  [16] .eh_frame         PROGBITS        0804c3ec 0043ec 000004 00   A  0   0 
4
  [17] .ctors            PROGBITS        0804defc 004efc 000008 00  WA  0   0 
4
  [18] .dtors            PROGBITS        0804df04 004f04 000008 00  WA  0   0 
4
  [19] .jcr              PROGBITS        0804df0c 004f0c 000004 00  WA  0   0 
4
  [20] .dynamic          DYNAMIC         0804df10 004f10 0000e0 08  WA  6   0 
4

[21] .got              PROGBITS        0804dff0 004ff0 000004 04  WA  0   0  4
  [22] .got.plt          PROGBITS        0804dff4 004ff4 0000a8 04  WA  0   0 
4
  [23] .data             PROGBITS        0804e09c 00509c 000008 00  WA  0   0 
4
  [24] .bss              NOBITS          0804e0c0 0050a4 000580 00  WA  0   0
32
  [25] .shstrtab         STRTAB          00000000 0050a4 0000c2 00      0   0 
1
Key to Flags:
  W (write), A (alloc), X (execute), M (merge), S (strings)
  I (info), L (link order), G (group), x (unknown)
  O (extra OS processing required) o (OS specific), p (processor specific)

There are no section groups in this file.

Program Headers:
  Type           Offset   VirtAddr   PhysAddr   FileSiz MemSiz  Flg Align
  PHDR           0x000034 0x08048034 0x08048034 0x00120 0x00120 R E 0x4
  INTERP         0x000154 0x08048154 0x08048154 0x00013 0x00013 R   0x1
      [Requesting program interpreter: /lib/ld-linux.so.2]
  LOAD           0x000000 0x08048000 0x08048000 0x043f0 0x043f0 R E 0x1000
  LOAD           0x004efc 0x0804defc 0x0804defc 0x001a8 0x00744 RW  0x1000
  DYNAMIC        0x004f10 0x0804df10 0x0804df10 0x000e0 0x000e0 RW  0x4
  NOTE           0x000168 0x08048168 0x08048168 0x00020 0x00020 R   0x4
  GNU_STACK      0x000000 0x00000000 0x00000000 0x00000 0x00000 RW  0x4
  GNU_RELRO      0x004efc 0x0804defc 0x0804defc 0x00104 0x00104 R   0x1
  PAX_FLAGS      0x000000 0x00000000 0x00000000 0x00000 0x00000     0x4

 Section to Segment mapping:
  Segment Sections...
   00
   01     .interp
   02     .interp .note.ABI-tag .hash .gnu.hash .dynsym .dynstr .gnu.version
.gnu.version_r .rel.dyn .rel.plt .init .plt .text .fini .rodata .eh_frame
   03     .ctors .dtors .jcr .dynamic .got .got.plt .data .bss
   04     .dynamic
   05     .note.ABI-tag
   06
   07     .ctors .dtors .jcr .dynamic .got
   08

Dynamic section at offset 0x4f10 contains 23 entries:
  Tag        Type                         Name/Value
 0x00000001 (NEEDED)                     Shared library: [libc.so.6]
 0x0000000f (RPATH)                      Library rpath:
[/usr/lib/postgresql-9.0/lib]
 0x0000001d (RUNPATH)                    Library runpath:
[/usr/lib/postgresql-9.0/lib]
 0x0000000c (INIT)                       0x8048a6c
/usr/lib/postgresql-9.0/bin/pg_config lines 45-87
0x0000000d (FINI)                       0x804b044
 0x00000004 (HASH)                       0x8048188
 0x6ffffef5 (GNU_HASH)                   0x8048374
 0x00000005 (STRTAB)                     0x8048674
 0x00000006 (SYMTAB)                     0x80483b4
 0x0000000a (STRSZ)                      488 (bytes)
 0x0000000b (SYMENT)                     16 (bytes)
 0x00000015 (DEBUG)                      0x0
 0x00000003 (PLTGOT)                     0x804dff4
 0x00000002 (PLTRELSZ)                   312 (bytes)
 0x00000014 (PLTREL)                     REL
 0x00000017 (JMPREL)                     0x8048934
 0x00000011 (REL)                        0x8048914
 0x00000012 (RELSZ)                      32 (bytes)
 0x00000013 (RELENT)                     8 (bytes)
 0x6ffffffe (VERNEED)                    0x80488b4
 0x6fffffff (VERNEEDNUM)                 1
 0x6ffffff0 (VERSYM)                     0x804885c
 0x00000000 (NULL)                       0x0

Relocation section '.rel.dyn' at offset 0x914 contains 4 entries:
 Offset     Info    Type            Sym.Value  Sym. Name
0804dff0  00000606 R_386_GLOB_DAT    00000000   __gmon_start__
0804e0c0  00002805 R_386_COPY        0804e0c0   stderr
0804e0e0  00002a05 R_386_COPY        0804e0e0   sys_siglist
0804e200  00002905 R_386_COPY        0804e200   stdout

Relocation section '.rel.plt' at offset 0x934 contains 39 entries:
 Offset     Info    Type            Sym.Value  Sym. Name
0804e000  00000107 R_386_JUMP_SLOT   00000000   __errno_location
0804e004  00000207 R_386_JUMP_SLOT   00000000   popen
0804e008  00000307 R_386_JUMP_SLOT   00000000   strerror
0804e00c  00000407 R_386_JUMP_SLOT   00000000   __strncpy_chk
0804e010  00000507 R_386_JUMP_SLOT   00000000   __fprintf_chk
0804e014  00000607 R_386_JUMP_SLOT   00000000   __gmon_start__
0804e018  00000707 R_386_JUMP_SLOT   00000000   __xstat64
0804e01c  00000807 R_386_JUMP_SLOT   00000000   __printf_chk
0804e020  00000907 R_386_JUMP_SLOT   00000000   getenv
0804e024  00000a07 R_386_JUMP_SLOT   00000000   strncpy
0804e028  00000b07 R_386_JUMP_SLOT   00000000   fgets
0804e02c  00000c07 R_386_JUMP_SLOT   00000000   __libc_start_main
0804e030  00000d07 R_386_JUMP_SLOT   00000000   strrchr
0804e034  00000e07 R_386_JUMP_SLOT   00000000   bindtextdomain
0804e038  00000f07 R_386_JUMP_SLOT   00000000   perror
/usr/lib/postgresql-9.0/bin/pg_config lines 88-131
0804e03c  00001007 R_386_JUMP_SLOT   00000000   __lxstat64
0804e040  00001107 R_386_JUMP_SLOT   00000000   dcgettext
0804e044  00001207 R_386_JUMP_SLOT   00000000   access
0804e048  00001307 R_386_JUMP_SLOT   00000000   fflush
0804e04c  00001407 R_386_JUMP_SLOT   00000000   strlen
0804e050  00001507 R_386_JUMP_SLOT   00000000   getpwuid
0804e054  00001607 R_386_JUMP_SLOT   00000000   setlocale
0804e058  00001707 R_386_JUMP_SLOT   00000000   strcpy
0804e05c  00001807 R_386_JUMP_SLOT   00000000   chdir
0804e060  00001907 R_386_JUMP_SLOT   00000000   putenv
0804e064  00001a07 R_386_JUMP_SLOT   00000000   __strcpy_chk
0804e068  00001b07 R_386_JUMP_SLOT   00000000   strstr
0804e06c  00001c07 R_386_JUMP_SLOT   00000000   fputc
0804e070  00001d07 R_386_JUMP_SLOT   00000000   readlink
0804e074  00001e07 R_386_JUMP_SLOT   00000000   getcwd
0804e078  00001f07 R_386_JUMP_SLOT   00000000   puts
0804e07c  00002007 R_386_JUMP_SLOT   00000000   textdomain
0804e080  00002107 R_386_JUMP_SLOT   00000000   strncmp
0804e084  00002207 R_386_JUMP_SLOT   00000000   __snprintf_chk
0804e088  00002307 R_386_JUMP_SLOT   00000000   strcmp
0804e08c  00002407 R_386_JUMP_SLOT   00000000   __strdup
0804e090  00002507 R_386_JUMP_SLOT   00000000   exit
0804e094  00002607 R_386_JUMP_SLOT   00000000   pclose
0804e098  00002707 R_386_JUMP_SLOT   00000000   geteuid

There are no unwind sections in this file.

Symbol table '.dynsym' contains 44 entries:
   Num:    Value  Size Type    Bind   Vis      Ndx Name
     0: 00000000     0 NOTYPE  LOCAL  DEFAULT  UND
     1: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:__errno_location@GLIBC_2.0">__errno_location@GLIBC_2.0</a>
(2)
     2: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:popen@GLIBC_2.1">popen@GLIBC_2.1</a> (3)
     3: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:strerror@GLIBC_2.0">strerror@GLIBC_2.0</a> (2)
     4: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:__strncpy_chk@GLIBC_2.3.4">__strncpy_chk@GLIBC_2.3.4</a>
(4)
     5: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:__fprintf_chk@GLIBC_2.3.4">__fprintf_chk@GLIBC_2.3.4</a>
(4)
     6: 00000000     0 NOTYPE  WEAK   DEFAULT  UND __gmon_start__
     7: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:__xstat64@GLIBC_2.2">__xstat64@GLIBC_2.2</a> (5)
     8: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:__printf_chk@GLIBC_2.3.4">__printf_chk@GLIBC_2.3.4</a> (4)
     9: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:getenv@GLIBC_2.0">getenv@GLIBC_2.0</a> (2)
    10: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:strncpy@GLIBC_2.0">strncpy@GLIBC_2.0</a> (2)
    11: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:fgets@GLIBC_2.0">fgets@GLIBC_2.0</a> (2)
    12: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:__libc_start_main@GLIBC_2.0">__libc_start_main@GLIBC_2.0</a>
(2)
    13: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:strrchr@GLIBC_2.0">strrchr@GLIBC_2.0</a> (2)
    14: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:bindtextdomain@GLIBC_2.0">bindtextdomain@GLIBC_2.0</a> (2)
/usr/lib/postgresql-9.0/bin/pg_config lines 132-175
  15: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:perror@GLIBC_2.0">perror@GLIBC_2.0</a> (2)
    16: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:__lxstat64@GLIBC_2.2">__lxstat64@GLIBC_2.2</a> (5)
    17: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:dcgettext@GLIBC_2.0">dcgettext@GLIBC_2.0</a> (2)
    18: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:access@GLIBC_2.0">access@GLIBC_2.0</a> (2)
    19: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:fflush@GLIBC_2.0">fflush@GLIBC_2.0</a> (2)
    20: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:strlen@GLIBC_2.0">strlen@GLIBC_2.0</a> (2)
    21: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:getpwuid@GLIBC_2.0">getpwuid@GLIBC_2.0</a> (2)
    22: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:setlocale@GLIBC_2.0">setlocale@GLIBC_2.0</a> (2)
    23: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:strcpy@GLIBC_2.0">strcpy@GLIBC_2.0</a> (2)
    24: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:chdir@GLIBC_2.0">chdir@GLIBC_2.0</a> (2)
    25: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:putenv@GLIBC_2.0">putenv@GLIBC_2.0</a> (2)
    26: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:__strcpy_chk@GLIBC_2.3.4">__strcpy_chk@GLIBC_2.3.4</a> (4)
    27: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:strstr@GLIBC_2.0">strstr@GLIBC_2.0</a> (2)
    28: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:fputc@GLIBC_2.0">fputc@GLIBC_2.0</a> (2)
    29: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:readlink@GLIBC_2.0">readlink@GLIBC_2.0</a> (2)
    30: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:getcwd@GLIBC_2.0">getcwd@GLIBC_2.0</a> (2)
    31: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:puts@GLIBC_2.0">puts@GLIBC_2.0</a> (2)
    32: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:textdomain@GLIBC_2.0">textdomain@GLIBC_2.0</a> (2)
    33: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:strncmp@GLIBC_2.0">strncmp@GLIBC_2.0</a> (2)
    34: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:__snprintf_chk@GLIBC_2.3.4">__snprintf_chk@GLIBC_2.3.4</a>
(4)
    35: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:strcmp@GLIBC_2.0">strcmp@GLIBC_2.0</a> (2)
    36: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:__strdup@GLIBC_2.0">__strdup@GLIBC_2.0</a> (2)
    37: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:exit@GLIBC_2.0">exit@GLIBC_2.0</a> (2)
    38: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:pclose@GLIBC_2.1">pclose@GLIBC_2.1</a> (3)
    39: 00000000     0 FUNC    GLOBAL DEFAULT  UND <a href="mailto:geteuid@GLIBC_2.0">geteuid@GLIBC_2.0</a> (2)
    40: 0804e0c0     4 OBJECT  GLOBAL DEFAULT   24 <a href="mailto:stderr@GLIBC_2.0">stderr@GLIBC_2.0</a> (2)
    41: 0804e200     4 OBJECT  GLOBAL DEFAULT   24 <a href="mailto:stdout@GLIBC_2.0">stdout@GLIBC_2.0</a> (2)
    42: 0804e0e0   260 OBJECT  GLOBAL DEFAULT   24 <a href="mailto:sys_siglist@GLIBC_2.3.3">sys_siglist@GLIBC_2.3.3</a> (6)
    43: 0804b064     4 OBJECT  GLOBAL DEFAULT   15 _IO_stdin_used

Histogram for bucket list length (total of 77 buckets):
 Length  Number     % of total  Coverage
      0  42         ( 54.5%)
      1  27         ( 35.1%)     62.8%
      2  8          ( 10.4%)    100.0%

Histogram for `.gnu.hash' bucket list length (total of 7 buckets):
 Length  Number     % of total  Coverage
      0  3          ( 42.9%)
      1  4          ( 57.1%)    100.0%

Version symbols section '.gnu.version' contains 44 entries:
 Addr: 000000000804885c  Offset: 0x00085c  Link: 5 (.dynsym)
  000:   0 (*local*)       2 (GLIBC_2.0)     3 (GLIBC_2.1)     2 (GLIBC_2.0)
004:   4 (GLIBC_2.3.4)   4 (GLIBC_2.3.4)   0 (*local*)       5 (GLIBC_2.2)
  008:   4 (GLIBC_2.3.4)   2 (GLIBC_2.0)     2 (GLIBC_2.0)     2 (GLIBC_2.0)
  00c:   2 (GLIBC_2.0)     2 (GLIBC_2.0)     2 (GLIBC_2.0)     2 (GLIBC_2.0)
  010:   5 (GLIBC_2.2)     2 (GLIBC_2.0)     2 (GLIBC_2.0)     2 (GLIBC_2.0)
  014:   2 (GLIBC_2.0)     2 (GLIBC_2.0)     2 (GLIBC_2.0)     2 (GLIBC_2.0)
  018:   2 (GLIBC_2.0)     2 (GLIBC_2.0)     4 (GLIBC_2.3.4)   2 (GLIBC_2.0)
  01c:   2 (GLIBC_2.0)     2 (GLIBC_2.0)     2 (GLIBC_2.0)     2 (GLIBC_2.0)
  020:   2 (GLIBC_2.0)     2 (GLIBC_2.0)     4 (GLIBC_2.3.4)   2 (GLIBC_2.0)
  024:   2 (GLIBC_2.0)     2 (GLIBC_2.0)     3 (GLIBC_2.1)     2 (GLIBC_2.0)
  028:   2 (GLIBC_2.0)     2 (GLIBC_2.0)     6 (GLIBC_2.3.3)   1 (*global*)

Version needs section '.gnu.version_r' contains 1 entries:
 Addr: 0x00000000080488b4  Offset: 0x0008b4  Link: 6 (.dynstr)
  000000: Version: 1  File: libc.so.6  Cnt: 5
  0x0010:   Name: GLIBC_2.3.3  Flags: none  Version: 6
  0x0020:   Name: GLIBC_2.2  Flags: none  Version: 5
  0x0030:   Name: GLIBC_2.3.4  Flags: none  Version: 4
  0x0040:   Name: GLIBC_2.1  Flags: none  Version: 3
  0x0050:   Name: GLIBC_2.0  Flags: none  Version: 2

Notes at offset 0x00000168 with length 0x00000020:
  Owner         Data size       Description
  GNU           0x00000010      NT_GNU_ABI_TAG (ABI version tag)</pre>
    </div>
  <div class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a name="c3" 
             href="show_bug.cgi?id=225#c3">Comment 3</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Steve Singer</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-19 08:53:13 PDT
        </span>
      </div>



<pre class="bz_comment_text" >If you attach the slony config.log to this bug I can take a look at it.

for pg_config you should run the program.  pg_config prints out the command
line options it was built with when you run it.</pre>
    </div>
  <div class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a name="c4" 
             href="show_bug.cgi?id=225#c4">Comment 4</a>
        </span>

        <span class="bz_comment_user"><span class="vcard">douganla
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-19 09:00:05 PDT
        </span>
      </div>



<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi?id=225#c3">comment #3</a>)
<span class="quote">&gt; If you attach the slony config.log to this bug I can take a look at it.
&gt; for pg_config you should run the program.  pg_config prints out the command
&gt; line options it was built with when you run it.</span >

Oh, I see that is not enabled after running pg_config see below. 
'--disable-thread-safety'
Do I need to run emerge --config =dev-db/postgresql-server-9.0.4-r1 like this
instead?
emerge --config --enable-thread-safety =dev-db/postgresql-server-9.0.4-r1

 # pg_config
BINDIR = /usr/lib/postgresql-9.0/bin
DOCDIR = /usr/share/doc/postgresql-9.0
HTMLDIR = /usr/share/doc/postgresql-9.0
INCLUDEDIR = /usr/include/postgresql-9.0
PKGINCLUDEDIR = /usr/include/postgresql-9.0
INCLUDEDIR-SERVER = /usr/include/postgresql-9.0/server
LIBDIR = /usr/lib/postgresql-9.0/lib
PKGLIBDIR = /usr/lib/postgresql-9.0/lib
LOCALEDIR = /usr/lib/postgresql-9.0/share/locale
MANDIR = /usr/share/postgresql-9.0/man
SHAREDIR = /usr/share/postgresql-9.0
SYSCONFDIR = /etc/postgresql-9.0
PGXS = /usr/lib/postgresql-9.0/lib/pgxs/src/makefiles/pgxs.mk
CONFIGURE = '--prefix=/usr' '--build=i686-pc-linux-gnu'
'--host=i686-pc-linux-gnu' '--mandir=/usr/share/man'
'--infodir=/usr/share/info' '--datadir=/usr/share' '--sysconfdir=/etc'
'--localstatedir=/var/lib' '--prefix=/usr/lib/postgresql-9.0'
'--datadir=/usr/share/postgresql-9.0' '--docdir=/usr/share/doc/postgresql-9.0'
'--includedir=/usr/include/postgresql-9.0'
'--mandir=/usr/share/postgresql-9.0/man' '--sysconfdir=/etc/postgresql-9.0'
'--enable-depend' '--without-tcl' '--without-perl' '--without-python'
'--without-krb5' '--without-gssapi' '--without-ldap' '--enable-nls='
'--without-pam' '--enable-integer-datetimes' '--with-readline' '--with-openssl'
'--disable-thread-safety' '--without-zlib' 'build_alias=i686-pc-linux-gnu'
'host_alias=i686-pc-linux-gnu' 'CFLAGS=-march=native -O2 -pipe'
'LDFLAGS=-Wl,-O1 -Wl,--as-needed' 'LDFLAGS_EX=-Wl,-O1 -Wl,--as-needed'
'LDFLAGS_SL=-Wl,-O1 -Wl,--as-needed'
CC = i686-pc-linux-gnu-gcc
CPPFLAGS = -D_GNU_SOURCE
CFLAGS = -march=native -O2 -pipe -Wall -Wmissing-prototypes -Wpointer-arith
-Wdeclaration-after-statement -Wendif-labels -fno-strict-aliasing -fwrapv
CFLAGS_SL = -fpic
LDFLAGS = -Wl,-O1 -Wl,--as-needed -Wl,--as-needed
-Wl,-rpath,'/usr/lib/postgresql-9.0/lib',--enable-new-dtags
LDFLAGS_EX = -Wl,-O1 -Wl,--as-needed
LDFLAGS_SL = -Wl,-O1 -Wl,--as-needed -Wl,-O1 -Wl,--as-needed -Wl,-O1
-Wl,--as-needed -Wl,-O1 -Wl,--as-needed -Wl,-O1 -Wl,--as-needed
LIBS = -lpgport -lssl -lcrypto -lreadline -lcrypt -ldl -lm
VERSION = PostgreSQL 9.0.4</pre>
    </div>
  <div class="bz_comment">

      <div class="bz_comment_head">



        <span class="bz_comment_number">
          <a name="c5" 
             href="show_bug.cgi?id=225#c5">Comment 5</a>
        </span>

        <span class="bz_comment_user"><span class="vcard"><span class="fn">Steve Singer</span>
</span>
        </span>

        <span class="bz_comment_user_images">
        </span>

        <span class="bz_comment_time">
          2011-07-19 10:47:14 PDT
        </span>
      </div>



<pre class="bz_comment_text" >Sorry, I have not really used gentoo and I don't know anything about using
emerge so I can't help you.  

Since this doesn't sound like a Slony bug I am marking the bug closed.</pre>
    </div>
        </div>
        
      </td>
    </tr>
  </table>
</form>

<hr>
<ul class="related_actions">
    <li><a href="show_bug.cgi?format=multiple&amp;id=225">Format For Printing</a></li>
    <li>&nbsp;-&nbsp;<a href="show_bug.cgi?ctype=xml&amp;id=225">XML</a></li>
    <li>&nbsp;-&nbsp;<a href="enter_bug.cgi?cloned_bug_id=225">Clone This Bug</a></li>
    
    <li>&nbsp;-&nbsp;<a href="#">Top of page </a></li>
    </ul>        


<div class="navigation">
  
  
  <i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>
</div>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions"><ul class="links">
  <li><a href="./">Home</a></li>
  <li><span class="separator">| </span><a href="enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" id="quicksearch_bottom" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_bottom"></form></li>

  <li><span class="separator">| </span><a href="report.cgi">Reports</a></li>

  <li></li>


  <li>
        <span class="separator">| </span>
        <a href="docs/en/html/bug_page.html" target="_blank">Help</a>
      </li>
    
      <li id="new_account_container_bottom">
        <span class="separator">| </span>
        <a href="createaccount.cgi">New&nbsp;Account</a>
      </li>

    <li id="mini_login_container_bottom">
  <span class="separator">| </span>
  <a id="login_link_bottom" href="?GoAheadAndLogIn=1"
     onclick="return show_mini_login_form('_bottom')">Log In</a>
  <form action="http://www.slony.info/bugzilla/show_bug.cgi?id=225" method="POST" 
        class="mini_login bz_default_hidden"
        id="mini_login_bottom"
        onsubmit="return check_mini_login_fields( '_bottom' );"
  >
    <input id="Bugzilla_login_bottom" 
           class="bz_login"
           name="Bugzilla_login"
           onfocus="mini_login_on_focus('_bottom')"
    >
    <input class="bz_password" 
           id="Bugzilla_password_bottom" 
           name="Bugzilla_password"
           type="password"
    >
    <input class="bz_password bz_default_hidden bz_mini_login_help" type="text" 
           id="Bugzilla_password_dummy_bottom" value="password"
           onfocus="mini_login_on_focus('_bottom')"
    >
    <input type="submit" name="GoAheadAndLogIn" value="Log in" 
            id="log_in_bottom">
    <script type="text/javascript">
      mini_login_constants = {
          "login" : "login",
          "warning" : "You must set the login and password before logging in."
      };
      
      if (YAHOO.env.ua.gecko || YAHOO.env.ua.ie || YAHOO.env.ua.opera) {
          YAHOO.util.Event.onDOMReady(function() {
              init_mini_login_form('_bottom');
          });
      }
      else {
          YAHOO.util.Event.on(window, 'load', function () {
              window.setTimeout(function() {
                  init_mini_login_form('_bottom');
              }, 200);
          });
    }
    </script>
    <a href="#" onclick="return hide_mini_login_form('_bottom')">[x]</a>
  </form>
</li>
<li id="forgot_container_bottom">
  <span class="separator">| </span>
  <a id="forgot_link_bottom" href="?GoAheadAndLogIn=1#forgot"
     onclick="return show_forgot_form('_bottom')">Forgot Password</a>
  <form action="token.cgi" method="post" id="forgot_form_bottom"
        class="mini_forgot bz_default_hidden">
    <label>Login: <input type="text" name="loginname" size="20"></label>
    <input id="forgot_button_bottom" value="Reset Password" 
           type="submit">
    <input type="hidden" name="a" value="reqpw">
    <a href="#" onclick="return hide_forgot_form('_bottom')">[x]</a>
  </form>
</li>
</ul>
  </li>

  
    

  


  
</ul>

  <div class="outro"></div>
</div>

</body>
</html>